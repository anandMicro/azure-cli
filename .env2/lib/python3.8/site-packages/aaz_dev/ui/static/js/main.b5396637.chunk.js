(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{265:function(e,t,n){},581:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(83),i=n.n(o),s=n(178),c=n(23),l=(n(265),n(17)),d=n(20),u=n(21),p=n(22),m=n(0),j=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsx)(c.a,{})}}]),n}(a.Component),f=j,h=n(13),x=n(650),b=n(124),O=n(680),v=n(694),g=n(673),y=n(695),C=n(692),S=n(4),k=n(5),w=n(683),D=n(648),I=n(183),A=n(92),W=n(93),R=n(212),z=Object(I.a)({palette:{primary:{light:"#69696a",main:"#28282a",dark:"#1e1e1f"},secondary:{light:"#fff5f8",main:"#ff3366",dark:"#e62958"},info:{light:"#cccfff",main:"#5d64cf",dark:"#464c99"},warning:{main:"#ffc071",dark:"#ffb25e"},error:{light:A.a[50],main:A.a[500],dark:A.a[700]},success:{light:W.a[50],main:W.a[500],dark:W.a[700]}},typography:{fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:700,button:{textTransform:"none"}}}),E={color:z.palette.text.primary,fontWeight:z.typography.fontWeightMedium,fontFamily:"'Roboto Condensed', sans-serif"},G=Object(k.a)(Object(k.a)({},z),{},{palette:Object(k.a)(Object(k.a)({},z.palette),{},{background:Object(k.a)(Object(k.a)({},z.palette.background),{},{default:z.palette.common.white,placeholder:R.a[200]})}),typography:Object(k.a)(Object(k.a)({},z.typography),{},{fontHeader:E,h1:Object(k.a)(Object(k.a)(Object(k.a)({},z.typography.h1),E),{},{letterSpacing:0,fontSize:60}),h2:Object(k.a)(Object(k.a)(Object(k.a)({},z.typography.h2),E),{},{fontSize:48}),h3:Object(k.a)(Object(k.a)(Object(k.a)({},z.typography.h3),E),{},{fontSize:42}),h4:Object(k.a)(Object(k.a)(Object(k.a)({},z.typography.h4),E),{},{fontSize:36}),h5:Object(k.a)(Object(k.a)({},z.typography.h5),{},{fontSize:20,fontWeight:z.typography.fontWeightLight}),h6:Object(k.a)(Object(k.a)(Object(k.a)({},z.typography.h6),E),{},{fontSize:18,fontWeight:z.typography.fontWeightRegular}),subtitle1:Object(k.a)(Object(k.a)({},z.typography.subtitle1),{},{fontSize:18}),body1:Object(k.a)(Object(k.a)({},z.typography.body1),{},{fontWeight:z.typography.fontWeightRegular,fontSize:16}),body2:Object(k.a)(Object(k.a)({},z.typography.body2),{},{fontSize:14})})});function T(e){return function(t){return Object(m.jsxs)(w.a,{theme:G,children:[Object(m.jsx)(D.a,{}),Object(m.jsx)(e,Object(k.a)({},t))]})}}var N=n(689),M=n(691),P=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)(N.a,{position:"fixed",children:Object(m.jsxs)(M.a,{sx:{justifyContent:"space-between",height:64},children:[Object(m.jsxs)(x.a,{sx:{flex:1,display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(m.jsx)(C.a,{variant:"h6",underline:"none",color:"inherit",href:"/?#/HomePage",fontWeight:"HomePage"===this.props.pageName?G.typography.fontWeightMedium:G.typography.fontWeightLight,children:"Home"}),Object(m.jsx)(x.a,{sx:{p:4}}),Object(m.jsx)(C.a,{variant:"h6",underline:"none",color:"inherit",href:"/?#/Workspace",fontWeight:"Workspace"===this.props.pageName?G.typography.fontWeightMedium:G.typography.fontWeightLight,children:"Workspace"}),Object(m.jsx)(x.a,{sx:{p:4}}),Object(m.jsx)(C.a,{variant:"h6",underline:"none",color:"inherit",href:"/?#/CLI",fontWeight:"CLI"===this.props.pageName?G.typography.fontWeightMedium:G.typography.fontWeightLight,children:"CLI"})]}),Object(m.jsx)(x.a,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(C.a,{color:"inherit",variant:"h6",underline:"none",href:"/?#/Documents",fontWeight:"Documents"===this.props.pageName?G.typography.fontWeightMedium:G.typography.fontWeightLight,sx:{fontSize:16,color:"common.white",ml:3},children:"Docs"})})]})})})}}]),n}(a.Component),F=n(693),U=n(651),V=Object(S.a)(F.a)((function(e){return{color:e.theme.palette.common.white,position:"absolute",left:0,right:0,top:64,bottom:0,display:"flex",alignItems:"stretch",flexDirection:"row",justifyContent:"center"}})),L=Object(S.a)(U.a)({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",zIndex:-2});function q(e){var t=e.children;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(V,{children:t}),Object(m.jsx)(L,{})]})}var H=Object(S.a)(x.a)((function(e){e.theme;return{height:"6vh"}})),Z=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:24,fontWeight:600}})),K=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}}));var B=T((function(){var e=a.useState(0),t=Object(h.a)(e,2),n=t[0],r=t[1],o=function(e){return function(){r(e)}};return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(P,{pageName:"HomePage"}),Object(m.jsx)(q,{children:Object(m.jsxs)(x.a,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(m.jsx)(x.a,{sx:{flexGrow:3}}),Object(m.jsxs)(x.a,{sx:{flexGrow:3,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(m.jsx)(b.a,{variant:"h2",gutterBottom:!0,children:"Welcome to"}),Object(m.jsx)(b.a,{variant:"h2",gutterBottom:!0,children:"AAZ Development Tool"}),Object(m.jsx)(H,{}),Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"center"},children:[Object(m.jsx)(x.a,{sx:{width:350,display:"flex",flexDirection:"row-reverse",mr:3},children:Object(m.jsx)(Z,{gutterBottom:!0,children:"Getting Started"})}),Object(m.jsx)(x.a,{sx:{width:450,ml:3},children:Object(m.jsxs)(O.a,{nonLinear:!0,activeStep:n,orientation:"vertical",children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(g.a,{color:"inherit",onClick:o(0),children:"Introduce"}),Object(m.jsxs)(y.a,{children:[Object(m.jsx)(K,{children:"AAZDev is a tool that helps Azure CLI developers generate Atomic CLI commands from REST API Specifications."}),Object(m.jsxs)(K,{children:["Go to ",Object(m.jsx)(C.a,{href:"/?#/Documents",underline:"always",target:"_blank",children:"Introduction"})," for more details."]})]})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(g.a,{color:"inherit",onClick:o(1),children:"Prepare Swagger"}),Object(m.jsxs)(y.a,{children:[Object(m.jsx)(K,{children:"The definition of API in swagger is required before using AAZDev tool."}),Object(m.jsx)(K,{children:"Please make sure the API specs has been defined in "}),Object(m.jsxs)(K,{children:[Object(m.jsx)(C.a,{href:"https://github.com/Azure/azure-rest-api-specs",underline:"always",target:"_blank",children:"azure-rest-api-specs"})," repo or ",Object(m.jsx)(C.a,{href:"https://github.com/Azure/azure-rest-api-specs-pr",underline:"always",target:"_blank",children:"azure-rest-api-specs-pr"})," repo."]})]})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(g.a,{color:"inherit",onClick:o(2),children:"Build Command Models"}),Object(m.jsxs)(y.a,{children:[Object(m.jsx)(K,{children:"Model editors can help you build command models."}),Object(m.jsx)(K,{children:"To build command models from swagger,"}),Object(m.jsxs)(K,{children:["please use ",Object(m.jsx)(C.a,{href:"/?#/Workspace",align:"center",underline:"always",children:"Workspace"})," editor."]})]})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(g.a,{color:"inherit",onClick:o(3),children:"Generate CLI Code"}),Object(m.jsxs)(y.a,{children:[Object(m.jsx)(K,{children:"To convert command models to CLI code,"}),Object(m.jsxs)(K,{children:["please use ",Object(m.jsx)(C.a,{href:"/?#/CLI",align:"center",underline:"always",children:"CLI"})," generators."]})]})]})]})})]})]}),Object(m.jsx)(x.a,{sx:{flexGrow:5}})]})})]})})),J=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsx)(a.Fragment,{children:Object(m.jsx)(c.a,{})})}}]),n}(a.Component),_=T(J),Y=n(652),$=n(677),X=n(699),Q=n(705),ee=n(660),te=n(706),ne=n(707),ae=n(685),re=n(24),oe=n.n(re),ie=Object(Y.a)(),se="mgmt-plane",ce=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadWorkspaces=function(){oe.a.get("/AAZ/Editor/Workspaces").then((function(e){var t=e.data.map((function(e){return{name:e.name,lastModified:new Date(1e3*e.updated),url:e.url,plane:e.plane,folder:e.folder}}));a.setState({options:t})})).catch((function(e){return console.error(e)}))},a.handleDialogSubmit=function(e){if(!0===e.currentTarget.checkValidity()){var t=a.state.createDialogValue.name,n=a.state.createDialogValue.plane;oe.a.post("/AAZ/Editor/Workspaces",{name:t,plane:n}).then((function(e){var t=e.data,n={name:t.name,lastModified:new Date(1e3*t.updated),url:t.url,plane:t.plane,folder:t.folder};setTimeout((function(){a.onValueUpdated(n)})),a.handleDialogClose()})).catch((function(e){console.error(e.response)}))}},a.handleDialogClose=function(){a.setState({createDialogValue:{name:"",plane:null,lastModified:null,url:null,folder:null},openDialog:!1})},a.onValueUpdated=function(e){a.setState({value:e}),e.url&&(window.location.href="/?#/workspace/".concat(e.name))},a.state={options:[],value:null,openDialog:!1,createDialogValue:{name:"",plane:null,lastModified:null,url:null,folder:null}},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadWorkspaces()}},{key:"render",value:function(){var e=this,t=this.state,n=t.options,r=t.value,o=t.openDialog,i=t.createDialogValue,s=this.props.name;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)($.a,{id:"workspace-select",value:r,sx:{width:280},options:n,autoHighlight:!0,onChange:function(t,n){"string"===typeof n?setTimeout((function(){e.setState({openDialog:!0,createDialogValue:{name:n,plane:se,lastModified:null,url:null,folder:null}})})):n&&n.inputValue?e.setState({openDialog:!0,createDialogValue:{name:n.inputValue,plane:se,lastModified:null,url:null,folder:null}}):e.onValueUpdated(n)},filterOptions:function(e,t){var n=ie(e,t);return""!==t.inputValue&&-1===e.findIndex((function(e){return e.name===t.inputValue}))&&n.push({inputValue:t.inputValue,title:'Create "'.concat(t.inputValue,'"')}),n},getOptionLabel:function(e){return"string"===typeof e?e:e.title?e.title:e.name},renderOption:function(e,t){var n=t&&t.title?t.title:t.name;return Object(m.jsx)(U.a,Object(k.a)(Object(k.a)({component:"li"},e),{},{children:n}))},selectOnFocus:!0,clearOnBlur:!0,renderInput:function(e){return Object(m.jsx)(X.a,Object(k.a)(Object(k.a)({},e),{},{label:s,inputProps:Object(k.a)(Object(k.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),Object(m.jsx)(Q.a,{open:o,onClose:this.handleDialogClose,children:Object(m.jsxs)(U.a,{component:"form",onSubmit:this.handleDialogSubmit,children:[Object(m.jsx)(ee.a,{children:"Create a new workspace"}),Object(m.jsx)(te.a,{children:Object(m.jsx)(X.a,{autoFocus:!0,margin:"normal",id:"name",required:!0,value:i.name,onChange:function(t){e.setState({createDialogValue:Object(k.a)(Object(k.a)({},i),{},{name:t.target.value})})},label:"Name",type:"text",variant:"standard"})}),Object(m.jsxs)(ne.a,{children:[Object(m.jsx)(ae.a,{onClick:this.handleDialogClose,children:"Cancel"}),Object(m.jsx)(ae.a,{type:"submit",color:"success",children:"Create"})]})]})})]})}}]),n}(a.Component),le=Object(S.a)(x.a)((function(e){e.theme;return{height:"6vh"}})),de=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(P,{pageName:"Workspace"}),Object(m.jsx)(q,{children:Object(m.jsxs)(x.a,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(m.jsx)(x.a,{sx:{flexGrow:3}}),Object(m.jsxs)(x.a,{sx:{flexGrow:3,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(m.jsx)(b.a,{variant:"h3",gutterBottom:!0,children:"Please select a Workspace"}),Object(m.jsx)(le,{}),Object(m.jsx)(ce,{name:"Open or create a workspace"})]}),Object(m.jsx)(x.a,{sx:{flexGrow:5}})]})})]})}}]),n}(a.Component),ue=de,pe=n(3),me=n(18),je=n.n(me),fe=n(14),he=n(29),xe=n(667),be=n(720),Oe=n(675),ve=n(713),ge=n(703),ye=n(698),Ce=n(690),Se=n(661),ke=n(662),we=n(679),De=n(663),Ie=n(681),Ae=n(697),We=n(39),Re=n(701),ze=n(702),Ee=n(671),Ge=n(686),Te=n(704),Ne=n(684),Me=n(708),Pe=n(214),Fe=n.n(Pe),Ue=Object(S.a)(U.a)((function(e){return{color:e.theme.palette.common.white,position:"absolute",left:"6vh",right:"6vh",top:64,bottom:0,display:"flex",alignItems:"stretch",flexDirection:"row",justifyContent:"flex-start"}})),Ve=Object(S.a)(U.a)({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",zIndex:-2});function Le(e){var t=e.children;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(Ue,{children:t}),Object(m.jsx)(Ve,{})]})}var qe=Object(S.a)(x.a)((function(e){e.theme;return{height:"2vh"}})),He=Object(S.a)(x.a)((function(e){e.theme;return{height:"8vh"}})),Ze=["Generic(Get&Put) First","Patch First","No update command"],Ke=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleClose=function(){a.props.onClose(!1)},a.handleSubmit=function(){a.addSwagger()},a.loadSwaggerModules=function(){var e=Object(he.a)(je.a.mark((function e(t){var n,r,o,i,s;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.get("/Swagger/Specs/".concat(t));case 3:n=e.sent,r=n.data.map((function(e){return e.url})),a.setState((function(e){return Object(k.a)(Object(k.a)({},e),{},{moduleOptions:r,moduleOptionsCommonPrefix:"/Swagger/Specs/".concat(t,"/"),preModuleName:null})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.response),(null===(o=e.t0.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)&&(s=e.t0.response.data,a.setState({invalidText:"ResponseError: ".concat(s.message)}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),a.loadResourceProviders=function(){var e=Object(he.a)(je.a.mark((function e(t,n){var r,o,i,s,c,l;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=19;break}return e.prev=1,e.next=4,oe.a.get("".concat(t,"/ResourceProviders"));case 4:return r=e.sent,o=r.data.map((function(e){return e.url})),i=1===o.length?o[0]:null,null!==n&&o.findIndex((function(e){return e===n}))>=0&&(i=n),a.setState({resourceProviderOptions:o,resourceProviderOptionsCommonPrefix:"".concat(t,"/ResourceProviders/")}),e.next=11,a.onResourceProviderUpdate(i);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0.response),(null===(s=e.t0.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message)&&(l=e.t0.response.data,a.setState({invalidText:"ResponseError: ".concat(l.message)}));case 17:e.next=21;break;case 19:a.setState({resourceProviderOptions:[]}),a.onResourceProviderUpdate(null);case 21:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}(),a.loadWorkspaceResources=Object(he.a)(je.a.mark((function e(){var t,n,r,o,i;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.get("/AAZ/Editor/Workspaces/".concat(a.props.workspaceName,"/CommandTree/Nodes/aaz/Resources"));case 3:t=e.sent,n=new Set,t.data&&Array.isArray(t.data)&&t.data.length>0&&t.data.forEach((function(e){n.add(e.id)})),a.setState({existingResources:n}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.response),(null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)&&(i=e.t0.response.data,a.setState({invalidText:"ResponseError: ".concat(i.message)}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),a.loadResources=function(){var e=Object(he.a)(je.a.mark((function e(t){var n,r,o,i,s,c,l,d,u,p;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=29;break}return a.setState({invalidText:void 0,loading:!0}),e.prev=2,e.next=5,oe.a.get("".concat(t,"/Resources"));case 5:return n=e.sent,r={},o=[],i={},s=[],n.data.forEach((function(e){s.push(e.id),i[e.id]=e,i[e.id].aazVersions=null,e.versions.map((function(e){return e.version})).forEach((function(t){t in r||(r[t]=[],o.push(t)),r[t].push(e)}))})),o.sort((function(e,t){return e.localeCompare(t)})).reverse(),c=null,o.length>0&&(c=o[0]),l={resources:s},e.next=17,oe.a.post("/AAZ/Specs/Resources/".concat(a.props.plane,"/Filter"),l);case 17:(n=e.sent).data.resources.forEach((function(e){e.versions&&(i[e.id].aazVersions=e.versions)})),a.setState({loading:!1,versionResourceIdMap:r,resourceMap:i,versionOptions:o}),a.onVersionUpdate(c),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error(e.t0.response),(null===(d=e.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)&&(p=e.t0.response.data,a.setState({invalidText:"ResponseError: ".concat(p.message)}));case 27:e.next=31;break;case 29:a.setState({versionOptions:[]}),a.onVersionUpdate(null);case 31:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}(),a.addSwagger=function(){var e=a.state,t=e.selectedResources,n=e.selectedVersion,r=e.selectedModule,o=e.moduleOptionsCommonPrefix,i=e.updateOption,s=e.resourceMap,c=e.selectedResourceInheritanceAAZVersionMap,l=[];t.forEach((function(e){var t={id:e,options:{aaz_version:c[e]}};if(i===Ze[1]){var a,r=null===(a=s[e].versions.find((function(e){return e.version===n})))||void 0===a?void 0:a.operations;if(r)for(var o in r)if("patch"===r[o].toLowerCase()){t.options.update_by="PatchOnly";break}}else i===Ze[2]&&(t.options.update_by="None");l.push(t)}));var d={module:r.slice().replace(o,""),version:n,resources:l};a.setState({invalidText:void 0,loading:!0}),oe.a.post("/AAZ/Editor/Workspaces/".concat(a.props.workspaceName,"/CommandTree/Nodes/aaz/AddSwagger"),d).then((function(e){a.setState({loading:!1}),a.props.onClose(!0)})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var r=e.response.data;a.setState({invalidText:"ResponseError: ".concat(r.message)})}}))},a.onModuleSelectorUpdate=function(){var e=Object(he.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.selectedModule===t){e.next=6;break}return a.setState({selectedModule:t}),e.next=4,a.loadResourceProviders(t,null);case 4:e.next=7;break;case 6:a.setState({selectedModule:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onResourceProviderUpdate=function(){var e=Object(he.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.selectedResourceProvider===t){e.next=6;break}return a.setState({selectedResourceProvider:t}),e.next=4,a.loadResources(t);case 4:e.next=7;break;case 6:a.setState({selectedResourceProvider:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onVersionUpdate=function(e){a.setState((function(t){var n=t.selectedResources,a=[],r=t.selectedResourceInheritanceAAZVersionMap;return null!=e&&(n=new Set,r={},(a=Object(fe.a)(t.versionResourceIdMap[e]).sort((function(e,t){return e.id.localeCompare(t.id)})).filter((function(e){return!t.existingResources.has(e.id)}))).forEach((function(a){t.selectedResources.has(a.id)&&(n.add(a.id),a.aazVersions&&a.aazVersions.findIndex((function(t){return t===e}))>=0?r[a.id]=e:r[a.id]=t.selectedResourceInheritanceAAZVersionMap[a.id])}))),Object(k.a)(Object(k.a)({},t),{},{resourceOptions:a,selectedVersion:e,preferredAAZVersion:e,selectedResources:n,selectedResourceInheritanceAAZVersionMap:r})}))},a.onUpdateOptionUpdate=function(e){a.setState({updateOption:null!==e&&void 0!==e?e:Ze[0]})},a.onResourceItemClick=function(e){return function(){a.setState((function(t){var n=new Set(t.selectedResources),a=Object(k.a)({},t.selectedResourceInheritanceAAZVersionMap);if(n.has(e))n.delete(e),delete a[e];else if(!t.existingResources.has(e)){n.add(e);var r=t.resourceMap[e].aazVersions,o=null;r&&(o=r.findIndex((function(e){return e===t.preferredAAZVersion}))>=0?t.preferredAAZVersion:r[0]),a[e]=o}return Object(k.a)(Object(k.a)({},t),{},{selectedResources:n,selectedResourceInheritanceAAZVersionMap:a})}))}},a.onSelectedAllClick=function(){a.setState((function(e){var t=new Set(e.selectedResources),n=Object(k.a)({},e.selectedResourceInheritanceAAZVersionMap);return t.size===e.resourceOptions.length?(t.clear(),n={}):e.resourceOptions.forEach((function(a){t.add(a.id);var r=e.resourceMap[a.id].aazVersions,o=null;r&&(o=r.findIndex((function(t){return t===e.preferredAAZVersion}))>=0?e.preferredAAZVersion:r[0]),n[a.id]=o})),Object(k.a)(Object(k.a)({},e),{},{selectedResources:t,selectedResourceInheritanceAAZVersionMap:n})}))},a.onResourceInheritanceAAZVersionUpdate=function(e,t){a.setState((function(n){var a=Object(k.a)({},n.selectedResourceInheritanceAAZVersionMap);a[e]=t;var r=n.preferredAAZVersion;return null!==t&&(r=t),Object(k.a)(Object(k.a)({},n),{},{selectedResourceInheritanceAAZVersionMap:a,preferredAAZVersion:r})}))},a.state={loading:!1,invalidText:void 0,existingResources:new Set,plane:a.props.plane,moduleOptionsCommonPrefix:"",resourceProviderOptionsCommonPrefix:"",moduleOptions:[],versionOptions:[],resourceProviderOptions:[],selectedResources:new Set,selectedResourceInheritanceAAZVersionMap:{},preferredAAZVersion:null,resourceOptions:[],versionResourceIdMap:{},resourceMap:{},selectedModule:null,selectedResourceProvider:null,selectedVersion:null,updateOptions:Ze,updateOption:Ze[0],filterText:""},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.loadWorkspaceResources().then(Object(he.a)(je.a.mark((function t(){var n,a,r,o,i,s;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadSwaggerModules(e.props.plane);case 2:return t.prev=2,t.next=5,oe.a.get("/AAZ/Editor/Workspaces/".concat(e.props.workspaceName,"/SwaggerDefault"));case 5:if(null!==(n=t.sent).data.modNames&&0!=n.data.modNames.length){t.next=8;break}return t.abrupt("return");case 8:if(a="/Swagger/Specs/".concat(e.props.plane,"/")+n.data.modNames.join("/"),-1!=e.state.moduleOptions.findIndex((function(e){return e===a}))){t.next=11;break}return t.abrupt("return");case 11:return r=null,null!==n.data.rpName&&n.data.rpName.length>0&&(r="".concat(a,"/ResourceProviders/").concat(n.data.rpName)),e.setState({selectedModule:a}),t.next=16,e.loadResourceProviders(a,r);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(2),console.error(t.t0.response),(null===(o=t.t0.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)&&(s=t.t0.response.data,e.setState({invalidText:"ResponseError: ".concat(s.message)}));case 22:case"end":return t.stop()}}),t,null,[[2,18]])}))))}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedResources,r=t.existingResources,o=t.resourceOptions,i=t.resourceMap,s=t.selectedVersion,c=t.selectedModule,l=t.selectedResourceInheritanceAAZVersionMap,d=t.filterText;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(N.a,{sx:{position:"fixed"},children:Object(m.jsxs)(M.a,{children:[Object(m.jsx)(Ae.a,{edge:"start",color:"inherit",onClick:this.handleClose,"aria-label":"close",children:Object(m.jsx)(Fe.a,{})}),Object(m.jsx)(b.a,{sx:{ml:2,flex:1,flexDirection:"row",display:"flex",justifyContent:"center",alignContent:"center"},variant:"h5",component:"div",children:"Add Swagger Resources"})]})}),Object(m.jsxs)(Le,{children:[Object(m.jsxs)(x.a,{sx:{flexShrink:0,width:250,flexDirection:"column",display:"flex",alignItems:"stretch",justifyContent:"flex-start",marginRight:"3vh"},children:[Object(m.jsx)(ye.a,{children:" Swagger Filters"}),Object(m.jsx)(qe,{}),Object(m.jsx)(Be,{name:"Swagger Module",commonPrefix:this.state.moduleOptionsCommonPrefix,options:this.state.moduleOptions,value:this.state.selectedModule,onValueUpdate:this.onModuleSelectorUpdate}),Object(m.jsx)(qe,{}),Object(m.jsx)(Be,{name:"Resource Provider",commonPrefix:this.state.resourceProviderOptionsCommonPrefix,options:this.state.resourceProviderOptions,value:this.state.selectedResourceProvider,onValueUpdate:this.onResourceProviderUpdate}),Object(m.jsx)(qe,{}),Object(m.jsx)(Be,{name:"API Version",commonPrefix:"",options:this.state.versionOptions,value:this.state.selectedVersion,onValueUpdate:this.onVersionUpdate}),Object(m.jsx)(He,{}),Object(m.jsx)(Be,{name:"Update Command Mode",commonPrefix:"",options:this.state.updateOptions,value:this.state.updateOption,onValueUpdate:this.onUpdateOptionUpdate}),Object(m.jsx)(He,{}),Object(m.jsx)(ae.a,{variant:"contained",onClick:this.handleSubmit,disabled:null===c||null===s||n.size<1,children:"Submit"})]}),Object(m.jsx)(ge.a,{sx:{flexGrow:1},subheader:Object(m.jsx)(ye.a,{children:Object(m.jsxs)(x.a,{sx:{mt:1,mb:1,flexDirection:"column",display:"flex",alignItems:"stretch",justifyContent:"flex-start"},color:"inherit",children:[Object(m.jsx)(b.a,{component:"h6",children:"Resource Url"}),Object(m.jsxs)(Ce.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",mt:1},variant:"outlined",square:!0,children:[Object(m.jsxs)(Se.a,{sx:{maxWidth:180},dense:!0,onClick:this.onSelectedAllClick,disabled:0===o.length,children:[Object(m.jsx)(ke.a,{children:Object(m.jsx)(we.a,{edge:"start",checked:n.size>0&&n.size===o.length,indeterminate:n.size>0&&n.size<o.length,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"SelectAll"}})}),Object(m.jsx)(De.a,{id:"SelectAll",primary:"All (".concat(o.length,")"),primaryTypographyProps:{variant:"h6"}})]}),Object(m.jsx)(We.c,{sx:{flex:1},placeholder:"Filter by keywords",inputProps:{"aria-label":"Filter by keywords"},value:d,onChange:function(t){e.setState({filterText:t.target.value})}})]})]})}),children:o.length>0&&Object(m.jsx)(Ce.a,{sx:{ml:2,mr:2},variant:"outlined",square:!0,children:o.filter((function(e){return!(d.trim().length>0)||e.id.indexOf(d.trim())>-1})).map((function(t){var a,o="resource-".concat(t.id),s=n.has(t.id),c=null===(a=i[t.id])||void 0===a?void 0:a.aazVersions,d=null;return null!==l&&(d=l[t.id]),Object(m.jsxs)(Ie.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},disablePadding:!0,children:[Object(m.jsxs)(Se.a,{dense:!0,onClick:e.onResourceItemClick(t.id),children:[Object(m.jsx)(ke.a,{children:Object(m.jsx)(we.a,{edge:"start",checked:s||r.has(t.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":o}})}),Object(m.jsx)(De.a,{id:o,primary:t.id,primaryTypographyProps:{variant:"h6"}})]}),s&&Object(m.jsxs)(Re.a,{sx:{m:1,minWidth:120},children:[Object(m.jsx)(ze.a,{id:"".concat(o,"-inheritance-select-label"),children:"Inheritance"}),Object(m.jsxs)(Ee.a,{id:"".concat(o,"-inheritance-select"),value:null===d?"_NULL_":d,onChange:function(n){e.onResourceInheritanceAAZVersionUpdate(t.id,"_NULL_"===n.target.value?null:n.target.value)},size:"small",children:[Object(m.jsx)(Ge.a,{value:"_NULL_",children:"None"},"".concat(o,"-inheritance-select-null")),c&&c.map((function(e){return Object(m.jsx)(Ge.a,{value:e,children:e},"".concat(o,"-inheritance-select-").concat(e))}))]}),Object(m.jsx)(Te.a,{children:"Inherit modification from exported command models in aaz"})]})]},t.id)}))})})]}),Object(m.jsxs)(Ne.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.loading,children:[void 0!==this.state.invalidText&&Object(m.jsx)(Oe.a,{sx:{maxWidth:"80%",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"},variant:"filled",severity:"error",onClose:function(){e.setState({invalidText:void 0,loading:!1})},children:this.state.invalidText}),void 0===this.state.invalidText&&Object(m.jsx)(Me.a,{color:"inherit"})]})]})}}]),n}(a.Component),Be=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={value:1===a.props.options.length?a.props.options[0]:null},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.name,a=t.options,r=t.commonPrefix,o=t.value;return Object(m.jsx)($.a,{id:n,value:o,options:a,onChange:function(t,n){e.props.onValueUpdate(n)},getOptionLabel:function(e){return e.replace(r,"")},renderOption:function(e,t){return Object(m.jsx)(x.a,Object(k.a)(Object(k.a)({component:"li"},e),{},{children:t.replace(r,"")}))},selectOnFocus:!0,clearOnBlur:!0,renderInput:function(e){return Object(m.jsx)(X.a,Object(k.a)(Object(k.a)({},e),{},{size:"small",label:n,required:!0}))}})}}]),n}(a.Component),Je=Ke,_e=n(687),Ye=n(146),$e=n.n(Ye),Xe=n(78),Qe=n.n(Xe),et=n(216),tt=n.n(et),nt=Object(S.a)(b.a)((function(e){e.theme;return{color:"#ffffff",fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),at=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.workspaceName,n=e.onHomePage,r=e.onGenerate,o=e.onDelete,i=e.onModify;return Object(m.jsx)(a.Fragment,{children:Object(m.jsx)(N.a,{sx:{position:"fixed",zIndex:function(e){return e.zIndex.drawer+1}},children:Object(m.jsxs)(M.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:64},children:[Object(m.jsxs)(Ae.a,{color:"inherit",onClick:n,"aria-label":"home",sx:{mr:2,flexShrink:0},children:[Object(m.jsx)($e.a,{sx:{mr:2}}),Object(m.jsx)(b.a,{variant:"h6",component:"div",color:"inherit",sx:{mr:2},children:"WORKSPACE"})]}),Object(m.jsx)(b.a,{variant:"h5",component:"div",color:"inherit",children:t}),Object(m.jsx)(ae.a,{sx:{flexShrink:0,ml:3},startIcon:Object(m.jsx)(Qe.a,{sx:{color:R.a[100]},fontSize:"small"}),onClick:i,children:Object(m.jsx)(nt,{children:"EDIT"})}),Object(m.jsx)(ae.a,{sx:{flexShrink:0,ml:1},startIcon:Object(m.jsx)(tt.a,{sx:{color:R.a[100]},fontSize:"small"}),onClick:o,children:Object(m.jsx)(nt,{children:"DELETE"})}),Object(m.jsx)(U.a,{sx:{flexGrow:1}}),Object(m.jsx)(U.a,{sx:{flexShrink:0},children:Object(m.jsx)(_e.a,{title:"Export Command Models",children:Object(m.jsx)(ae.a,{variant:"outlined",color:"inherit",onClick:r,children:"Export"})})})]})})})}}]),n}(a.Component),rt=at,ot=n(709),it=n(682),st=n(101),ct=n.n(st),lt=n(102),dt=n.n(lt),ut=n(664),pt=n(147),mt=n.n(pt),jt=n(217),ft=n.n(jt),ht=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:16,fontWeight:600}})),xt=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNodeSelected=function(t,n){"string"===typeof n&&e.props.onSelected(n)},e.onNodeToggle=function(t,n){e.props.onToggle(n)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.commandTreeNodes,r=t.selected,o=t.onAdd,i=t.onReload,s=t.expanded,c=function t(n){var a=n.names[n.names.length-1];return Object(m.jsxs)(it.a,{nodeId:n.id,color:"inherit",label:a,onClick:function(t){r!==n.id||-1===s.indexOf(n.id)?(e.onNodeSelected(t,n.id),e.onNodeToggle(t,[].concat(Object(fe.a)(s),[n.id]))):e.onNodeToggle(t,s.filter((function(e){return e!==n.id}))),t.stopPropagation(),t.preventDefault()},children:[Array.isArray(n.leaves)?n.leaves.map((function(t){return function(t){var n=t.names[t.names.length-1];return Object(m.jsx)(it.a,{nodeId:t.id,color:"inherit",label:n,onClick:function(n){r!==t.id&&e.onNodeSelected(n,t.id),n.stopPropagation(),n.preventDefault()}},t.id)}(t)})):null,Array.isArray(n.nodes)?n.nodes.map((function(e){return t(e)})):null]},n.id)};return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(x.a,{sx:{mt:2,ml:4,mr:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(m.jsx)(ht,{children:"Command Tree"}),Object(m.jsx)(x.a,{sx:{flexGrow:1}}),Object(m.jsx)(_e.a,{title:"Reload Swagger Change",children:Object(m.jsx)(Ae.a,{color:"info",onClick:i,"aria-label":"reload",children:Object(m.jsx)(ft.a,{})})}),Object(m.jsx)(_e.a,{title:"Add from Swagger",children:Object(m.jsx)(Ae.a,{color:"info",onClick:o,"aria-label":"add",children:Object(m.jsx)(mt.a,{})})})]}),Object(m.jsx)(ot.a,{defaultCollapseIcon:Object(m.jsx)(ct.a,{}),defaultExpandIcon:Object(m.jsx)(dt.a,{}),selected:r,expanded:s,sx:{flexGrow:1,overflowY:"auto",mt:1,ml:3,mr:3},children:n.map((function(e){return c(e)}))})]})}}]),n}(a.Component),bt=xt,Ot=n(710),vt=n(711),gt=n(712),yt=n(688),Ct=n(714),St=n(676),kt=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:18,fontWeight:400}})),wt=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:32,fontWeight:700}})),Dt=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:18,fontWeight:400,fontStyle:"italic"}})),It=Object(ut.a)(Dt)((function(e){e.theme;return{color:"#5d64cf"}})),At=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:16,fontWeight:400}})),Wt=Object(ut.a)(b.a)((function(e){e.theme;return{color:"#67b349",fontFamily:"'Work Sans', sans-serif",fontSize:20,fontWeight:200}})),Rt=Object(ut.a)(Wt)((function(e){e.theme;return{color:"#d1b102"}})),zt=Object(ut.a)(Wt)((function(e){e.theme;return{color:"#e05376"}})),Et=(Object(ut.a)(Wt)((function(e){e.theme;return{fontSize:12}})),Object(ut.a)(Rt)((function(e){e.theme;return{fontSize:12}}))),Gt=Object(ut.a)(zt)((function(e){e.theme;return{fontSize:12}})),Tt=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:700}})),Nt=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onCommandGroupDialogDisplay=function(){a.setState({displayCommandGroupDialog:!0})},a.onCommandGroupDeleteDialogDisplay=function(){a.setState({displayCommandGroupDeleteDialog:!0})},a.handleCommandGroupDialogClose=function(e){a.setState({displayCommandGroupDialog:!1}),e&&a.props.onUpdateCommandGroup(e)},a.handleCommandGroupDeleteDialogClose=function(e){a.setState({displayCommandGroupDeleteDialog:!1}),e&&a.props.onUpdateCommandGroup(null)},a.state={displayCommandGroupDialog:!1,displayCommandGroupDeleteDialog:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e,t,n,r,o,i=this.props,s=i.workspaceUrl,c=i.commandGroup,l="az "+this.props.commandGroup.names.join(" "),d=null===(e=this.props.commandGroup.help)||void 0===e?void 0:e.short,u=null===(t=this.props.commandGroup.help)||void 0===t||null===(n=t.lines)||void 0===n?void 0:n.join("\n"),p=null!==(r=null===(o=this.props.commandGroup.help)||void 0===o?void 0:o.lines)&&void 0!==r?r:[],j=this.props.commandGroup.stage,f=this.state,h=f.displayCommandGroupDialog,O=f.displayCommandGroupDeleteDialog;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:Object(m.jsxs)(Ot.a,{elevation:3,sx:{flexGrow:1,display:"flex",flexDirection:"column",p:2},children:[Object(m.jsxs)(vt.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"stretch"},children:[Object(m.jsxs)(x.a,{sx:{mb:2,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(m.jsx)(b.a,{variant:"h6",sx:{flexShrink:0},children:"[ GROUP ]"}),Object(m.jsx)(x.a,{sx:{flexGrow:1}}),"Stable"===j&&Object(m.jsx)(Wt,{sx:{flexShrink:0},children:j}),"Preview"===j&&Object(m.jsx)(Rt,{sx:{flexShrink:0},children:j}),"Experimental"===j&&Object(m.jsx)(zt,{sx:{flexShrink:0},children:j})]}),Object(m.jsx)(wt,{sx:{mt:1},children:l}),d&&Object(m.jsxs)(Dt,{sx:{ml:6,mt:2},children:[" ",d," "]}),!d&&Object(m.jsx)(It,{sx:{ml:6,mt:2},children:"Please add command group short summary!"}),u&&Object(m.jsx)(x.a,{sx:{ml:6,mt:1,mb:1},children:p.map((function(e,t){return Object(m.jsx)(At,{children:e},t)}))})]}),Object(m.jsx)(gt.a,{sx:{display:"flex",flexDirection:"row-reverse",alignContent:"center",justifyContent:"flex-start"},children:Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"flex-start"},children:[Object(m.jsx)(ae.a,{variant:"contained",size:"small",color:"info",disableElevation:!0,onClick:this.onCommandGroupDialogDisplay,children:Object(m.jsx)(b.a,{variant:"body2",children:"Edit"})}),Object(m.jsx)(ae.a,{variant:"outlined",size:"small",color:"info",onClick:this.onCommandGroupDeleteDialogDisplay,disabled:!this.props.commandGroup.canDelete,sx:{ml:2},children:Object(m.jsx)(b.a,{variant:"body2",children:"Delete"})})]})})]})}),h&&Object(m.jsx)(Pt,{open:h,workspaceUrl:s,commandGroup:c,onClose:this.handleCommandGroupDialogClose}),O&&Object(m.jsx)(Mt,{open:O,workspaceUrl:s,commandGroup:c,onClose:this.handleCommandGroupDeleteDialogClose})]})}}]),n}(a.Component);function Mt(e){var t=a.useState(!1),n=Object(h.a)(t,2),r=n[0],o=n[1];return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(m.jsx)(ee.a,{children:"Delete Command Group"}),Object(m.jsx)(te.a,{dividers:!0,children:Object(m.jsx)(b.a,{variant:"body2",children:"".concat("az ").concat(e.commandGroup.names.join(" "))})}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:function(){var t="".concat(e.workspaceUrl,"/CommandTree/Nodes/aaz/")+e.commandGroup.names.join("/");o(!0),oe.a.delete(t).then((function(t){o(!1),e.onClose(!0)})).catch((function(e){o(!1),console.error(e.response.data)}))},children:"Delete"})]})]})]})}var Pt=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a,r,o,i,s,c;return Object(l.a)(this,n),(c=t.call(this,e)).handleModify=function(e){var t=c.state,n=t.name,a=t.stage,r=t.shortHelp,o=t.longHelp,i=c.props,s=i.workspaceUrl,l=i.commandGroup;n=n.trim(),r=r.trim(),o=o.trim();var d=n.split(" ").filter((function(e){return e.length>0}));if(c.setState({invalidText:void 0}),d.length<1)c.setState({invalidText:"Field 'Name' is required."});else{for(var u in d){var p=d[u];if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(p))return void c.setState({invalidText:"Invalid Name part: '".concat(p,"'. Supported regular expression is: [a-z0-9]+(-[a-z0-9]+)* ")})}r.length<1&&c.setState({invalidText:"Field 'Short Summary' is required."});var m=null;o.length>1&&(m=o.split("\n").filter((function(e){return e.length>0}))),c.setState({updating:!0});var j="".concat(s,"/CommandTree/Nodes/aaz/")+l.names.join("/");oe.a.patch(j,{help:{short:r,lines:m},stage:a}).then((function(e){var t=d.join(" ");if(t===l.names.join(" ")){var n=Ft(e.data);c.setState({updating:!1}),c.props.onClose(n)}else oe.a.post("".concat(j,"/Rename"),{name:t}).then((function(e){var t=Ft(e.data);c.setState({updating:!1}),c.props.onClose(t)}))})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;c.setState({invalidText:"ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details))})}c.setState({updating:!1})}))}},c.handleClose=function(){c.setState({invalidText:void 0}),c.props.onClose()},c.state={name:c.props.commandGroup.names.join(" "),shortHelp:null!==(a=null===(r=c.props.commandGroup.help)||void 0===r?void 0:r.short)&&void 0!==a?a:"",longHelp:null!==(o=null===(i=c.props.commandGroup.help)||void 0===i||null===(s=i.lines)||void 0===s?void 0:s.join("\n"))&&void 0!==o?o:"",stage:c.props.commandGroup.stage,updating:!1},c}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.shortHelp,o=t.longHelp,i=t.invalidText,s=t.updating,c=t.stage;return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:this.props.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(m.jsx)(ee.a,{children:"Command Group"}),Object(m.jsxs)(te.a,{dividers:!0,children:[i&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",i," "]}),Object(m.jsx)(ze.a,{required:!0,shrink:!0,sx:{font:"inherit"},children:"Stage"}),Object(m.jsxs)(yt.a,{row:!0,value:c,name:"stage",onChange:function(t){e.setState({stage:t.target.value})},children:[Object(m.jsx)(Ct.a,{value:"Stable",control:Object(m.jsx)(St.a,{}),label:"Stable",sx:{ml:4}}),Object(m.jsx)(Ct.a,{value:"Preview",control:Object(m.jsx)(St.a,{}),label:"Preview",sx:{ml:4}}),Object(m.jsx)(Ct.a,{value:"Experimental",control:Object(m.jsx)(St.a,{}),label:"Experimental",sx:{ml:4}})]}),Object(m.jsx)(X.a,{id:"name",label:"Name",type:"text",fullWidth:!0,variant:"standard",value:n,onChange:function(t){e.setState({name:t.target.value})},margin:"normal",required:!0}),Object(m.jsx)(X.a,{id:"shortSummary",label:"Short Summary",type:"text",fullWidth:!0,variant:"standard",value:r,onChange:function(t){e.setState({shortHelp:t.target.value})},margin:"normal",required:!0}),Object(m.jsx)(X.a,{id:"longSummary",label:"Long Summary",helperText:"Please add long summer in lines.",type:"text",fullWidth:!0,multiline:!0,variant:"standard",value:o,onChange:function(t){e.setState({longHelp:t.target.value})},margin:"normal"})]}),Object(m.jsxs)(ne.a,{children:[s&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!s&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:this.handleClose,children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:this.handleModify,children:"Save"})]})]})]})}}]),n}(a.Component),Ft=function(e){var t;return{id:"group:"+e.names.join("/"),names:e.names,help:e.help,stage:null!==(t=e.stage)&&void 0!==t?t:"Stable",canDelete:!0}},Ut=Nt,Vt=n(717),Lt=n(718),qt=n(654),Ht=n(719),Zt=n(656),Kt=n(716),Bt=n(224),Jt=n.n(Bt),_t=n(225),Yt=n.n(_t),$t=n(223),Xt=n.n($t),Qt=n(222),en=n.n(Qt),tn=n(590),nn=n(715),an=n(219),rn=n.n(an),on=n(220),sn=n.n(on),cn=n(221),ln=n.n(cn);function dn(e,t){var n={id:e.id,name:t,args:[],total:0,selectedCount:0};for(var a in e.args){var r={id:"".concat(n.id,"/Arguments/").concat(a),var:a,indexes:e.args[a],display:"",isSelected:!1};if(r.indexes.length>1)r.display="[".concat(r.var,"] ").concat(r.indexes.map((function(e){return"."===e[1]||"["===e[1]||"{"===e[1]?"-".concat(e):"--".concat(e)})).join(" "));else if(1===r.indexes.length){var o=r.indexes[0];"."===o[1]||"["===o[1]||"{"===o[1]?r.display="-".concat(o):r.display="--".concat(o)}n.args.push(r)}return n.total=n.args.length,n}function un(e,t){var n={id:e.id,name:t,total:0,selectedCount:0};if("object"===typeof e.commandGroups&&null!==e.commandGroups)for(var a in n.groups=[],e.commandGroups){var r=un(e.commandGroups[a],a);n.groups.push(r),n.total+=r.total}if("object"===typeof e.commands&&null!==e.commands)for(var o in n.commands=[],e.commands){var i=dn(e.commands[o],o);n.commands.push(i),n.total+=i.total}return void 0===n.commands&&void 0!==n.groups&&1===n.groups.length&&((n=n.groups[0]).name="".concat(t," ").concat(n.name)),n}function pn(e){var t=[e.id];return void 0!==e.commands&&e.commands.forEach((function(e){t.push(e.id)})),void 0!==e.groups&&e.groups.forEach((function(e){t=[].concat(Object(fe.a)(t),Object(fe.a)(pn(e)))})),t}function mn(e){var t={root:un(e.data.aaz,"az"),selectedArgIds:[]},n=pn(t.root);return{tree:fn(t,new Set([t.root.id])),expandedIds:n}}function jn(e,t){var n,a,r=[],o=Object(k.a)(Object(k.a)({},e),{},{groups:null===(n=e.groups)||void 0===n?void 0:n.map((function(e){var n=jn(e,t),a=n.group,o=n.selectedArgIds;return r=[].concat(Object(fe.a)(r),Object(fe.a)(o)),a})),commands:null===(a=e.commands)||void 0===a?void 0:a.map((function(e){var n=function(e,t){var n=[],a=Object(k.a)(Object(k.a)({},e),{},{args:e.args.map((function(e){var a=t.has(e.id);if(!a)for(var r=e.id.split("/"),o=1;o<r.length;o+=1){var i=r.slice(0,o+1).join("/");if(t.has(i)){a=!0;break}}return!0===a&&n.push(e.id),Object(k.a)(Object(k.a)({},e),{},{indexes:Object(fe.a)(e.indexes),isSelected:a})}))});return a.selectedCount=n.length,{command:a,selectedArgIds:n}}(e,t),a=n.command,o=n.selectedArgIds;return r=[].concat(Object(fe.a)(r),Object(fe.a)(o)),a}))});return o.selectedCount=r.length,{group:o,selectedArgIds:r}}function fn(e,t){var n=jn(e.root,t);return{root:n.group,selectedArgIds:n.selectedArgIds}}var hn=function(e){var t=function(t,n){var a;a=n?new Set(e.tree.selectedArgIds).add(t):new Set(e.tree.selectedArgIds.filter((function(e){return e!==t&&!e.startsWith("".concat(t,"/"))}))),e.onTreeUpdated(fn(e.tree,a))},n=function(n){return Object(m.jsx)(it.a,{nodeId:n.id,color:"inherit",label:Object(m.jsx)(Ct.a,{control:Object(m.jsx)(we.a,{size:"small",checked:n.selectedCount>0&&n.selectedCount===n.total,indeterminate:n.selectedCount>0&&n.selectedCount<n.total,onClick:function(e){t(n.id,!(n.selectedCount>0&&n.selectedCount===n.total)),e.stopPropagation(),e.preventDefault()}}),label:n.name,sx:{paddingLeft:1}}),children:Array.isArray(n.args)?n.args.map((function(n){return function(n){var a=-1!==e.updatedIds.indexOf(n.id);return Object(m.jsx)(it.a,{nodeId:n.id,color:"inherit",label:Object(m.jsx)(Ct.a,{control:Object(m.jsx)(we.a,{size:"small",checked:n.isSelected,onClick:function(e){t(n.id,!n.isSelected),e.stopPropagation(),e.preventDefault()},disabled:a}),label:n.display,sx:{paddingLeft:1}})},n.id)}(n)})):null},n.id)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(ot.a,{sx:{flexGrow:1,overflowY:"auto"},defaultCollapseIcon:Object(m.jsx)(ct.a,{}),defaultExpandIcon:Object(m.jsx)(dt.a,{}),onNodeToggle:function(t,n){e.onToggle(n),t.stopPropagation(),t.preventDefault()},selected:[],expanded:e.expandedIds,children:function e(a){return Object(m.jsxs)(it.a,{nodeId:a.id,color:"inherit",label:Object(m.jsx)(Ct.a,{control:Object(m.jsx)(we.a,{size:"small",checked:a.selectedCount>0&&a.selectedCount===a.total,indeterminate:a.selectedCount>0&&a.selectedCount<a.total,onClick:function(e){t(a.id,!(a.selectedCount>0&&a.selectedCount===a.total)),e.stopPropagation(),e.preventDefault()}}),label:a.name,sx:{paddingLeft:1}}),children:[Array.isArray(a.commands)?a.commands.map((function(e){return n(e)})):null,Array.isArray(a.groups)?a.groups.map((function(t){return e(t)})):null]},a.id)}(e.tree.root)})})},xn=n(218),bn=n.n(xn);function On(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),o=n[0],i=n[1],s=function t(n){if(n.type.startsWith("@")){var a=e.clsArgDefineMap[n.clsName],r=t(a);return void 0!==r&&"object"===a.type&&(r.flattenArgVar=n.var),r}if("object"===n.type)return{title:"Props",props:n.args,flattenArgVar:n.var};if(n.type.startsWith("dict<")){var o=n.item,i=o?t(o):void 0;if(!i)return;return{title:"Dict Element Props",props:i.props,flattenArgVar:void 0}}if(n.type.startsWith("array<")){var s=t(n.item);if(!s)return;return{title:"Array Element Props",props:s.props,flattenArgVar:void 0}}},c=function(t){if(0!==t.length){var n=Object(fe.a)(e.args),a=void 0,r=function(e){var r,o,i=t[e].var;if(!(a=n.find((function(e){return e.var===i}))))return"break";n=null!==(r=null===(o=s(a))||void 0===o?void 0:o.props)&&void 0!==r?r:[]};for(var o in t){if("break"===r(o))break}return a}};Object(a.useEffect)((function(){i([])}),[e.commandUrl]),Object(a.useEffect)((function(){for(var e=Object(fe.a)(o);e.length>0&&!c(e);)e.pop();i(e)}),[e.args,e.clsArgDefineMap]);var l=function(t){var n;if(o.length>0){var a,r=c(o);if(!r)return;n=null===(a=s(r))||void 0===a?void 0:a.props.find((function(e){return e.var===t}))}else n=e.args.find((function(e){return e.var===t}));if(n){var l={var:n.var,displayKey:n.options[0]};0===o.length&&(1===l.displayKey.length?l.displayKey="-".concat(l.displayKey):l.displayKey="--".concat(l.displayKey));var d=n.type;d.startsWith("@")&&(d=e.clsArgDefineMap[n.clsName].type),d.startsWith("dict<")?l.displayKey+="{}":d.startsWith("array<")&&(l.displayKey+="[]"),i([].concat(Object(fe.a)(o),[l]))}},d=function(e){i(o.slice(0,e))};return Object(m.jsxs)(r.a.Fragment,{children:[o.length>0&&Object(m.jsx)(r.a.Fragment,{children:function(){var t=c(o);if(!t)return Object(m.jsx)(m.Fragment,{});var n=t.stage;return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(m.jsx)(yn,{argIdxStack:o,onChangeArgIdStack:d}),"Stable"===n&&Object(m.jsx)(Wt,{sx:{flexShrink:0},children:n}),"Preview"===n&&Object(m.jsx)(Rt,{sx:{flexShrink:0},children:n}),"Experimental"===n&&Object(m.jsx)(zt,{sx:{flexShrink:0},children:n})]}),Object(m.jsx)(An,{arg:t,depth:o.length,onEdit:function(){e.onEdit(t,o)},onUnwrap:function(){e.onUnwrap(t,o)}})]})}()}),Object(m.jsx)(r.a.Fragment,{children:function(){if(0===o.length)return 0===e.args.length?Object(m.jsx)(m.Fragment,{}):Object(m.jsx)(Un,{title:"Argument Groups",args:e.args,onFlatten:void 0,onAddSubcommand:void 0,depth:o.length,onSelectSubArg:l});var t=c(o);if(!t)return Object(m.jsx)(m.Fragment,{});var n=s(t);if(!n)return Object(m.jsx)(m.Fragment,{});var a=void 0!==n.flattenArgVar;return Object(m.jsx)(Un,{title:n.title,args:n.props,depth:o.length,selectedArg:t,onFlatten:a?function(){e.onFlatten(t,o)}:void 0,onAddSubcommand:function(){e.onAddSubcommand(t,o)},onSelectSubArg:l})}()})]})}var vn=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),gn=Object(ut.a)(vn)((function(e){e.theme;return{color:"#5d64cf"}}));function yn(e){return Object(m.jsx)(r.a.Fragment,{children:Object(m.jsxs)(x.a,{sx:{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",mt:1,mb:.5,mr:2},children:[Object(m.jsx)(tn.a,{onClick:function(){e.onChangeArgIdStack(0)},children:Object(m.jsx)(rn.a,{sx:{fontSize:14}})},"Back"),e.argIdxStack.slice(0,-1).map((function(t,n){return Object(m.jsx)(tn.a,{onClick:function(){e.onChangeArgIdStack(n+1)},children:Object(m.jsx)(vn,{sx:{flexShrink:0},children:n>0?".".concat(t.displayKey):t.displayKey})},"".concat(n))})),Object(m.jsx)(tn.a,{onClick:function(){e.onChangeArgIdStack(e.argIdxStack.length)},children:Object(m.jsx)(gn,{sx:{flexShrink:0},children:e.argIdxStack.length>1?".".concat(e.argIdxStack[e.argIdxStack.length-1].displayKey):e.argIdxStack[e.argIdxStack.length-1].displayKey})},"".concat(e.argIdxStack.length-1))]})})}var Cn=function(e,t){var n=e.options.map((function(e){return 0===t?1===e.length?"-"+e:"--"+e:"."+e})).join(" ");if(e.singularOptions){var a=e.singularOptions.map((function(e){return 0===t?1===e.length?"-"+e:"--"+e:"."+e})).join(" ");n+=" (".concat(a,")")}else if(e.singularOptions){var r=e.singularOptions.map((function(e){return 0===t?1===e.length?"-"+e:"--"+e:"."+e})).join(" ");n+=" (".concat(r,")")}return n},Sn=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:26,fontWeight:700}})),kn=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:700}})),wn=Object(ut.a)(b.a)((function(e){e.theme;return{color:"#fad105",fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:200}})),Dn=Object(ut.a)(b.a)((function(e){e.theme;return{color:"#5d64cf",fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),In=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:14,fontWeight:700}}));function An(e){var t,n,o,i,s=Object(a.useState)([]),c=Object(h.a)(s,2),l=c[0],d=c[1];Object(a.useEffect)((function(){var t=[];if(e.arg.enum){var n=e.arg.enum.items;for(var a in n){var r=n[a];t.push(r.name)}}else if(e.arg.enum){var o=e.arg.enum.items;for(var i in o){var s=o[i];t.push(s.name)}}d(t)}),[e.arg]);var u=function(){if(e.arg.type.startsWith("@"))return"Unwrap";var t;if(e.arg.type.startsWith("array")){if(null===(t=e.arg.item)||void 0===t?void 0:t.type.startsWith("@"))return"Unwrap Element"}else if(e.arg.type.startsWith("dict")){var n;if(null===(n=e.arg.item)||void 0===n?void 0:n.type.startsWith("@"))return"Unwrap Element"}return null};return Object(m.jsx)(r.a.Fragment,{children:Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",mt:1,mb:2},children:[Object(m.jsxs)(x.a,{sx:{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[function(){var t=Cn(e.arg,e.depth-1);return Object(m.jsx)(Sn,{children:t})}(),Object(m.jsx)(ae.a,{sx:{flexShrink:0,ml:3},startIcon:Object(m.jsx)(Qe.a,{color:"info",fontSize:"small"}),onClick:function(){e.onEdit()},children:Object(m.jsx)(Dn,{children:"Edit"})})]}),Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"stretch",ml:6},children:[Object(m.jsx)(x.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:Object(m.jsx)(kn,{children:"/".concat(e.arg.type,"/")})}),null!==u()&&Object(m.jsx)(ae.a,{sx:{flexShrink:0,ml:1},startIcon:Object(m.jsx)(sn.a,{color:"info",fontSize:"small"}),onClick:function(){e.onUnwrap()},children:Object(m.jsx)(Dn,{children:u()})}),Object(m.jsx)(x.a,{sx:{flexGrow:1}}),e.arg.required&&Object(m.jsx)(wn,{children:"[Required]"})]}),(void 0!==e.arg.default||l.length>0)&&Object(m.jsxs)(x.a,{sx:{ml:5,mt:.5,display:"flex",flexDirection:"row",alignItems:"center"},children:[l.length>0&&Object(m.jsx)(In,{sx:{ml:1},children:"Choices: "+l.join(", ")}),void 0!==e.arg.default&&Object(m.jsx)(In,{sx:{ml:1},children:"Default: ".concat(function(){if("object"===e.arg.type||e.arg.type.startsWith("dict<")||e.arg.type.startsWith("array<")||e.arg.type.startsWith("@")){if(void 0!==e.arg.default&&null!==e.arg.default)return JSON.stringify(e.arg.default.value)}else if(void 0!==e.arg.default&&null!==e.arg.default)return e.arg.default.value.toString();return""}())})]}),(null===(t=e.arg.help)||void 0===t?void 0:t.short)&&Object(m.jsxs)(Dt,{sx:{ml:6,mt:1.5},children:[" ",null===(n=e.arg.help)||void 0===n?void 0:n.short," "]}),!(null===(o=e.arg.help)||void 0===o?void 0:o.short)&&Object(m.jsx)(It,{sx:{ml:6,mt:2},children:"Please add argument short summary!"}),(null===(i=e.arg.help)||void 0===i?void 0:i.lines)&&Object(m.jsx)(x.a,{sx:{ml:6,mt:1,mb:1},children:e.arg.help.lines.map((function(e,t){return Object(m.jsx)(At,{children:e},t)}))})]})})}function Wn(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(""),s=Object(h.a)(i,2),c=s[0],l=s[1],d=Object(a.useState)(void 0),u=Object(h.a)(d,2),p=u[0],j=u[1],f=Object(a.useState)(""),b=Object(h.a)(f,2),O=b[0],v=b[1],g=Object(a.useState)(void 0),y=Object(h.a)(g,2),C=y[0],S=y[1],w=Object(a.useState)(""),D=Object(h.a)(w,2),I=D[0],A=D[1],W=Object(a.useState)(!1),R=Object(h.a)(W,2),z=R[0],E=R[1],G=Object(a.useState)(""),T=Object(h.a)(G,2),N=T[0],M=T[1],P=Object(a.useState)(""),F=Object(h.a)(P,2),U=F[0],V=F[1],L=Object(a.useState)(void 0),q=Object(h.a)(L,2),H=q[0],Z=q[1],K=Object(a.useState)([]),B=Object(h.a)(K,2),J=B[0],_=B[1],Y=Object(a.useState)([]),$=Object(h.a)(Y,2),re=$[0],ie=$[1],se=Object(a.useState)(!1),ce=Object(h.a)(se,2),le=ce[0],de=ce[1],ue=Object(a.useState)(void 0),pe=Object(h.a)(ue,2),me=pe[0],xe=pe[1],be=Object(a.useState)(!1),ge=Object(h.a)(be,2),ye=ge[0],Ce=ge[1],Se=function(){var t,n;j(void 0);var a=O.trim(),r=null!==(t=null===C||void 0===C?void 0:C.trim())&&void 0!==t?t:void 0,o=N.trim(),i=U.trim(),s=I.trim(),l=a.split(" ").filter((function(e){return e.length>0})),d=null!==(n=null===r||void 0===r?void 0:r.split(" ").filter((function(e){return e.length>0})))&&void 0!==n?n:void 0;if(l.length<1)j("Argument 'Option names' is required.");else{for(var u in l){var p=l[u];if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(p))return void j("Invalid 'Option name': '".concat(p,"'. Supported regular expression is: [a-z0-9]+(-[a-z0-9]+)* "))}if(d)for(var m in d){var f=d[m];if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(f))return void j("Invalid 'Singular option name': '".concat(f,"'. Supported regular expression is: [a-z0-9]+(-[a-z0-9]+)* "))}if(!(o.length<1)){var h=null;i.length>1&&(h=i.split("\n").filter((function(e){return e.length>0})));var x=void 0;if(!1===le)void 0!==e.arg.default&&(x=null);else if(!0===le){if(void 0===me)return void j("Field 'Default Value' is undefined.");try{var b=e.arg.type;b.startsWith("@")&&(b=e.clsArgDefineMap[e.arg.clsName].type),x={value:Kn(me,b)}}catch(v){return void j("Field 'Default Value' is invalid: ".concat(v.message,"."))}void 0!==e.arg.default&&e.arg.default.value===x.value&&(x=void 0)}return{options:l,singularOptions:d,stage:c,group:s,hide:z,help:{short:o,lines:h},default:x}}j("Field 'Short Summary' is required.")}},ke=function(){var t=Object(he.a)(je.a.mark((function t(n){var a,r,i,s,c,l;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(a=Se())){t.next=3;break}return t.abrupt("return");case 3:return o(!0),r="".concat(e.commandUrl,"/Arguments/").concat(e.arg.var),t.prev=5,t.next=8,oe.a.patch(r,Object(k.a)({},a));case 8:return i=t.sent,Zn(i.data).arg,o(!1),t.next=13,e.onClose(!0);case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(5),console.error(t.t0.response),(null===(s=t.t0.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message)&&(l=t.t0.response.data,j("ResponseError: ".concat(l.message,": ").concat(JSON.stringify(l.details)))),o(!1);case 20:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),we=function(){var t=Object(he.a)(je.a.mark((function t(){var n,a,r,i,s,c,l,d;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(n=Se())){t.next=3;break}return t.abrupt("return");case 3:o(!0),a="",r=Object(fe.a)(re),t.t0=je.a.keys(H.selectedArgIds);case 7:if((t.t1=t.t0()).done){t.next=24;break}if(i=t.t1.value,s=H.selectedArgIds[i],-1!==r.indexOf(s)){t.next=22;break}return t.prev=11,t.next=14,oe.a.patch(s,Object(k.a)({},n));case 14:r.push(s),ie(Object(fe.a)(r)),t.next=22;break;case 18:t.prev=18,t.t2=t.catch(11),console.error(t.t2.response),(null===(c=t.t2.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message)&&(d=t.t2.response.data,a+="ResponseError: ".concat(d.message,": ").concat(JSON.stringify(d.details)));case 22:t.next=7;break;case 24:if(!(a.length>0)){t.next=29;break}j(a),o(!1),t.next=32;break;case 29:return o(!1),t.next=32,e.onClose(!0);case 32:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){var t,n,a,r,i,s,c,d=e.arg,u=e.clsArgDefineMap;if(v(d.options.join(" ")),d.type.startsWith("array"))S(null!==(s=null===(c=d.singularOptions)||void 0===c?void 0:c.join(" "))&&void 0!==s?s:"");else if(d.type.startsWith("@")&&u[d.clsName].type.startsWith("array")){var p,m;S(null!==(p=null===(m=d.singularOptions)||void 0===m?void 0:m.join(" "))&&void 0!==p?p:"")}else S(void 0);l(e.arg.stage),A(e.arg.group),E(e.arg.hide),M(null!==(t=null===(n=e.arg.help)||void 0===n?void 0:n.short)&&void 0!==t?t:""),V(null!==(a=null===(r=e.arg.help)||void 0===r||null===(i=r.lines)||void 0===i?void 0:i.join("\n"))&&void 0!==a?a:""),o(!1),Z(void 0),_([]),"object"===d.type||d.type.startsWith("dict<")||d.type.startsWith("array<")||d.type.startsWith("@")?(Ce(!0),console.log(e.arg.default),void 0!==e.arg.default&&null!==e.arg.default?(de(!0),xe(JSON.stringify(e.arg.default.value))):(de(!1),xe(void 0))):(Ce(!1),void 0!==e.arg.default&&null!==e.arg.default?(de(!0),xe(e.arg.default.value.toString())):(de(!1),xe(void 0)))}),[e.arg]),Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[!H&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ee.a,{children:"Modify Argument"}),Object(m.jsxs)(te.a,{dividers:!0,children:[p&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",p," "]}),Object(m.jsx)(X.a,{id:"options",label:"Option names",helperText:"You can input multiple names separated by a space character",type:"text",fullWidth:!0,variant:"standard",value:O,onChange:function(e){v(e.target.value)},margin:"normal",required:!0}),void 0!==C&&Object(m.jsx)(X.a,{id:"singularOptions",label:"Singular option names",type:"text",fullWidth:!0,variant:"standard",value:C,onChange:function(e){S(e.target.value)},margin:"normal"}),Object(m.jsx)(X.a,{id:"group",label:"Argument Group",type:"text",fullWidth:!0,variant:"standard",value:I,onChange:function(e){A(e.target.value)},margin:"normal"}),Object(m.jsx)(ze.a,{required:!0,shrink:!0,sx:{font:"inherit"},children:"Stage"}),Object(m.jsxs)(yt.a,{row:!0,value:c,name:"stage",onChange:function(e){l(e.target.value)},children:[Object(m.jsx)(Ct.a,{value:"Stable",control:Object(m.jsx)(St.a,{}),label:"Stable",sx:{ml:4}}),Object(m.jsx)(Ct.a,{value:"Preview",control:Object(m.jsx)(St.a,{}),label:"Preview",sx:{ml:4}}),Object(m.jsx)(Ct.a,{value:"Experimental",control:Object(m.jsx)(St.a,{}),label:"Experimental",sx:{ml:4}})]}),!e.arg.required&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ze.a,{shrink:!0,sx:{font:"inherit"},children:"Hide Argument"}),Object(m.jsx)(nn.a,{sx:{ml:4},checked:z,onChange:function(e){E(!z)}})]}),void 0!==le&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ze.a,{shrink:!0,sx:{font:"inherit"},children:"Default Value"}),Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",ml:4},children:[Object(m.jsx)(nn.a,{checked:le,onChange:function(e){de(!le),xe(void 0)}}),Object(m.jsx)(X.a,{id:"defaultValue",label:"default Value",hiddenLabel:!0,type:"text",hidden:!le,fullWidth:!0,size:"small",value:void 0!==me?me:"",onChange:function(e){xe(e.target.value)},placeholder:ye?"Default Value in json format":"Default Value",margin:"normal","aria-controls":"",required:!0})]})]}),Object(m.jsx)(X.a,{id:"shortSummary",label:"Short Summary",type:"text",fullWidth:!0,variant:"standard",value:N,onChange:function(e){M(e.target.value)},margin:"normal",required:!0}),Object(m.jsx)(X.a,{id:"longSummary",label:"Long Summary",helperText:"Please add long summer in lines.",type:"text",fullWidth:!0,multiline:!0,variant:"standard",value:U,onChange:function(e){V(e.target.value)},margin:"normal"})]})]}),H&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ee.a,{children:"Modify Similar Arguments"}),Object(m.jsxs)(te.a,{dividers:!0,children:[p&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",p," "]}),Object(m.jsx)(hn,{tree:H,expandedIds:J,updatedIds:re,onTreeUpdated:function(e){Z(e)},onToggle:function(e){_(e)}})]})]}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&!H&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){j(void 0),e.onClose(!1)},children:"Cancel"}),!e.arg.var.startsWith("@")&&Object(m.jsx)(ae.a,{onClick:ke,children:"Update"}),Object(m.jsx)(ae.a,{onClick:function(){if(void 0!==Se()){o(!0);var t="".concat(e.commandUrl,"/Arguments/").concat(e.arg.var,"/FindSimilar");oe.a.post(t).then((function(e){o(!1);var t=mn(e),n=t.tree,a=t.expandedIds;Z(n),_(a),ie([])})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;j("ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details)))}o(!1)}))}},children:"Update Similar"})]}),!r&&H&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){Z(void 0),_([])},children:"Back"}),Object(m.jsx)(ae.a,{onClick:we,disabled:0===H.selectedArgIds.length,children:"Update"})]})]})]})}function Rn(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(void 0),s=Object(h.a)(i,2),c=s[0],l=s[1],d=Object(a.useState)([]),u=Object(h.a)(d,2),p=u[0],j=u[1],f=Object(a.useState)(void 0),b=Object(h.a)(f,2),O=b[0],v=b[1],g=Object(a.useState)([]),y=Object(h.a)(g,2),C=y[0],S=y[1],w=Object(a.useState)([]),D=Object(h.a)(w,2),I=D[0],A=D[1];Object(a.useEffect)((function(){var t,n=e.arg,a=e.clsArgDefineMap;n.type.startsWith("@")?t=a[n.clsName].args:t=n.args;var r=t.map((function(e){return{var:e.var,options:e.options.join(" ")}}));j(r),v(void 0),S([])}),[e.arg]);var W=function(){l(void 0);var e={},t=void 0;if(p.forEach((function(n,a){var r=n.options.split(" ").filter((function(e){return e.length>0}));if(r.length<1)t="Prop ".concat(a+1," option name is required.");else{for(var o in r){var i=r[o];if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(i))return void(t="Invalid 'Prop ".concat(o+1," option name': '").concat(i,"'. Supported regular expression is: [a-z0-9]+(-[a-z0-9]+)* "))}e[n.var]=r}})),void 0===t)return{subArgsOptions:e};l(t)},R=function(){var t=Object(he.a)(je.a.mark((function t(){var n,a,r,i,s;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(n=W())){t.next=3;break}return t.abrupt("return");case 3:return o(!0),a="".concat(e.commandUrl,"/Arguments/").concat(e.arg.var,"/Flatten"),t.prev=5,t.next=8,oe.a.post(a,Object(k.a)({},n));case 8:return o(!1),t.next=11,e.onClose(!0);case 11:t.next=18;break;case 13:t.prev=13,t.t0=t.catch(5),console.error(t.t0.response),(null===(r=t.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)&&(s=t.t0.response.data,l("ResponseError: ".concat(s.message,": ").concat(JSON.stringify(s.details)))),o(!1);case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=Object(he.a)(je.a.mark((function t(){var n,a,r,i,s,c,d,u,p;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(n=W())){t.next=3;break}return t.abrupt("return");case 3:o(!0),a="",r=Object(fe.a)(I),t.t0=je.a.keys(O.selectedArgIds);case 7:if((t.t1=t.t0()).done){t.next=25;break}if(i=t.t1.value,s=O.selectedArgIds[i],-1!==r.indexOf(s)){t.next=23;break}return c="".concat(s,"/Flatten"),t.prev=12,t.next=15,oe.a.post(c,Object(k.a)({},n));case 15:r.push(s),A(Object(fe.a)(r)),t.next=23;break;case 19:t.prev=19,t.t2=t.catch(12),console.error(t.t2.response),(null===(d=t.t2.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)&&(p=t.t2.response.data,a+="ResponseError: ".concat(p.message,": ").concat(JSON.stringify(p.details)));case 23:t.next=7;break;case 25:if(!(a.length>0)){t.next=30;break}l(a),o(!1),t.next=33;break;case 30:return o(!1),t.next=33,e.onClose(!0);case 33:case"end":return t.stop()}}),t,null,[[12,19]])})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[!O&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ee.a,{children:"Flatten Props"}),Object(m.jsxs)(te.a,{dividers:!0,children:[c&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",c," "]}),p.map((function(e,t){return Object(m.jsx)(X.a,{id:"subArg-".concat(e.var),label:"Prop ".concat(t+1),helperText:0===t?"You can input multiple names separated by a space character":void 0,type:"text",fullWidth:!0,variant:"standard",value:e.options,onChange:function(t){var n=p.map((function(n){return n.var===e.var?Object(k.a)(Object(k.a)({},n),{},{options:t.target.value}):n}));j(n)},margin:"normal",required:!0},e.var)}))]})]}),O&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ee.a,{children:"Flatten Similar Argument Props"}),Object(m.jsxs)(te.a,{dividers:!0,children:[c&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",c," "]}),Object(m.jsx)(hn,{tree:O,expandedIds:C,updatedIds:I,onTreeUpdated:function(e){v(e)},onToggle:function(e){S(e)}})]})]}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&!O&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){l(void 0),e.onClose(!1)},children:"Cancel"}),!e.arg.type.startsWith("@")&&Object(m.jsx)(ae.a,{onClick:R,children:"Flatten"}),e.arg.type.startsWith("@")&&Object(m.jsx)(ae.a,{onClick:R,children:"Unwrap & Flatten"}),Object(m.jsx)(ae.a,{onClick:function(){if(void 0!==W()){o(!0);var t="".concat(e.commandUrl,"/Arguments/").concat(e.arg.var,"/FindSimilar");oe.a.post(t).then((function(e){o(!1);var t=mn(e),n=t.tree,a=t.expandedIds;v(n),S(a),A([])})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;l("ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details)))}o(!1)}))}},children:"Flatten Similar"})]}),!r&&O&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){v(void 0),S([])},children:"Back"}),Object(m.jsx)(ae.a,{onClick:z,disabled:0===O.selectedArgIds.length,children:"Update"})]})]})]})}function zn(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(void 0),s=Object(h.a)(i,2),c=s[0],l=s[1],d=function(){var t=Object(he.a)(je.a.mark((function t(){var n,a,r,i,s,c,d;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),n=e.arg.var,e.arg.type.startsWith("array")?(null===(a=e.arg.item)||void 0===a?void 0:a.type.startsWith("@"))&&(n+="[]"):e.arg.type.startsWith("dict")&&(null===(r=e.arg.item)||void 0===r?void 0:r.type.startsWith("@"))&&(n+="{}"),i="".concat(e.commandUrl,"/Arguments/").concat(n,"/UnwrapClass"),t.prev=4,t.next=7,oe.a.post(i);case 7:return o(!1),t.next=10,e.onClose(!0);case 10:t.next=17;break;case 12:t.prev=12,t.t0=t.catch(4),console.error(t.t0.response),(null===(s=t.t0.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message)&&(d=t.t0.response.data,l("ResponseError: ".concat(d.message,": ").concat(JSON.stringify(d.details)))),o(!1);case 17:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(m.jsx)(ee.a,{children:"Unwrap Class Type "}),Object(m.jsxs)(te.a,{dividers:!0,children:[c&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",c," "]}),Object(m.jsx)(kn,{children:e.arg.type})]}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){l(void 0),e.onClose(!1)},children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:d,children:"Unwrap Class"})]})]})]})}var En=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:10,fontWeight:400}})),Gn=Object(ut.a)(b.a)((function(e){e.theme;return{color:"#dba339",fontFamily:"'Work Sans', sans-serif",fontSize:10,fontWeight:400}})),Tn=Object(ut.a)(b.a)((function(e){e.theme;return{color:"#8888C3",fontFamily:"'Work Sans', sans-serif",fontSize:10,fontWeight:400}})),Nn=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:18,fontWeight:200}})),Mn=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:700}})),Pn=Object(ut.a)(b.a)((function(e){e.theme;return{color:"#8888C3",fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:700}})),Fn=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:14,fontStyle:"italic",fontWeight:400}}));function Un(e){var t={};void 0!==e.args&&e.args.forEach((function(e){var n=e.group.length>0?e.group:"";n in t||(t[n]=[]),t[n].push(e)}));var n=[];for(var a in t)t[a].sort((function(e,t){return e.required&&!t.required?-1:!e.required&&t.required?1:e.options[0].localeCompare(t.options[0])})),n.push({name:a,args:t[a]});n.sort((function(e,t){return e.name.localeCompare(t.name)}));var o=function(t,n){var a=Cn(t,e.depth);return Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",mb:2},children:[Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"},children:[Object(m.jsxs)(tn.a,{onClick:function(){e.onSelectSubArg(t.var)},children:[!t.hide&&Object(m.jsx)(Mn,{sx:{flexShrink:0},children:a}),t.hide&&Object(m.jsx)(Pn,{sx:{flexShrink:0},children:a})]}),Object(m.jsx)(x.a,{sx:{flexGrow:1}}),"Preview"===t.stage&&Object(m.jsx)(Et,{sx:{flexShrink:0},children:t.stage}),"Experimental"===t.stage&&Object(m.jsx)(Gt,{sx:{flexShrink:0},children:t.stage})]}),Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(m.jsxs)(x.a,{sx:{width:300,flexShrink:0,flexDirection:"row",display:"flex",alignItems:"center"},children:[Object(m.jsx)(En,{sx:{flexShrink:0},children:"/".concat(t.type,"/")}),Object(m.jsx)(x.a,{sx:{flexGrow:1}}),t.required&&Object(m.jsx)(Gn,{children:"[Required]"}),t.hide&&Object(m.jsx)(Tn,{children:"[Hidden]"})]}),t.help&&Object(m.jsx)(x.a,{sx:{ml:4},children:Object(m.jsx)(Fn,{children:t.help.short})})]})]},"group-arg-".concat(n))};return 0===n.length?Object(m.jsx)(m.Fragment,{}):Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsxs)(x.a,{sx:{p:2,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(m.jsx)(Tt,{children:e.title}),void 0!==e.onFlatten&&Object(m.jsx)(ae.a,{sx:{flexShrink:0,ml:3},startIcon:Object(m.jsx)(ln.a,{color:"info",fontSize:"small"}),onClick:e.onFlatten,children:Object(m.jsx)(Dn,{children:"Flatten"})}),void 0!==e.onAddSubcommand&&!!(e.selectedArg&&e.args.length>0)&&Object(m.jsx)(ae.a,{sx:{flexShrink:0,ml:3},startIcon:Object(m.jsx)(mt.a,{color:"info",fontSize:"small"}),onClick:e.onAddSubcommand,children:Object(m.jsx)(Dn,{children:"Subcommands"})})]}),n.map((function(e,t){return Object(m.jsxs)(x.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",ml:2,mr:2,mb:1},children:[Object(m.jsx)(x.a,{sx:{flexShrink:0,ml:2,p:1},children:Object(m.jsx)(Nn,{id:"argGroup-".concat(t,"-header"),children:e.name.length>0?"".concat(e.name," Group"):"Default Group"})}),Object(m.jsx)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",ml:3,mr:3},children:e.args.map(o)})]},"group-".concat(t))}))]})}function Vn(e){return{items:e.items.map((function(e){return function(e){var t;return{name:e.name,hide:null!==(t=e.hide)&&void 0!==t&&t,value:e.value}}(e)}))}}function Ln(e){if(void 0!==e&&null!==e)return{value:e.value}}function qn(e){if(void 0!==e&&null!==e)return{value:e.value}}function Hn(e){var t,n={type:e.type,nullable:null!==(t=e.nullable)&&void 0!==t&&t},a={};switch(e.type){case"byte":case"binary":case"duration":case"date":case"dateTime":case"uuid":case"password":case"SubscriptionId":case"ResourceGroupName":case"ResourceId":case"ResourceLocation":case"string":case"integer32":case"integer64":case"integer":case"float32":case"float64":case"float":e.enum&&(n=Object(k.a)(Object(k.a)({},n),{},{enum:Vn(e.enum)})),e.blank&&(n=Object(k.a)(Object(k.a)({},n),{},{blank:Ln(e.blank)}));break;case"boolean":e.blank&&(n=Object(k.a)(Object(k.a)({},n),{},{blank:Ln(e.blank)}));break;case"object":if(e.args&&Array.isArray(e.args)&&e.args.length>0){var r=e.args.map((function(e){var t=Zn(e);return a=Object(k.a)(Object(k.a)({},a),t.clsDefineMap),t.arg}));n=Object(k.a)(Object(k.a)({},n),{},{args:r})}else if(e.additionalProps&&e.additionalProps.item){var o=Hn(e.additionalProps.item);a=Object(k.a)(Object(k.a)({},a),o.clsDefineMap);var i="dict<string, ".concat(o.argBase.type,">");n=Object(k.a)(Object(k.a)({},n),{},{type:i,item:o.argBase,anyType:!1})}else if(e.additionalProps&&e.additionalProps.anyType){n=Object(k.a)(Object(k.a)({},n),{},{type:"dict<string, Any>",anyType:!0})}if(e.cls){var s=e.cls;a[s]=n,n={type:"@".concat(e.cls),clsName:s}}break;default:if(e.type.startsWith("array<")){if(!e.item)throw Error("Invalid array object. Item is not defined");var c=Hn(e.item);a=Object(k.a)(Object(k.a)({},a),c.clsDefineMap);var l="array<".concat(c.argBase.type,">");if(n=Object(k.a)(Object(k.a)({},n),{},{type:l,item:c.argBase}),e.cls){var d=e.cls;a[d]=n,n={type:"@".concat(e.cls),clsName:d}}}else{if(!e.type.startsWith("@"))throw console.error("Unknown type '".concat(e.type,"'")),Error("Unknown type '".concat(e.type,"'"));n.clsName=e.type.slice(1)}}return{argBase:n,clsDefineMap:a}}function Zn(e){var t,n,a,r,o=Hn(e),i=o.argBase,s=o.clsDefineMap,c=e.options.sort((function(e,t){return e.length-t.length})).reverse(),l=e.help?function(e){return{short:e.short,lines:e.lines,refCommands:e.refCommands}}(e.help):void 0,d=Object(k.a)(Object(k.a)({},i),{},{var:e.var,options:c,required:null!==(t=e.required)&&void 0!==t&&t,stage:null!==(n=e.stage)&&void 0!==n?n:"Stable",hide:null!==(a=e.hide)&&void 0!==a&&a,group:null!==(r=e.group)&&void 0!==r?r:"",help:l,idPart:e.idPart});switch(i.type){case"byte":case"binary":case"duration":case"date":case"dateTime":case"uuid":case"password":case"SubscriptionId":case"ResourceGroupName":case"ResourceId":case"ResourceLocation":case"string":case"integer32":case"integer64":case"integer":case"float32":case"float64":case"float":case"boolean":case"object":e.default&&(d=Object(k.a)(Object(k.a)({},d),{},{default:qn(e.default)}));break;default:if(i.type.startsWith("dict<"))e.default&&(d=Object(k.a)(Object(k.a)({},d),{},{default:qn(e.default)}));else if(i.type.startsWith("array<"))e.singularOptions&&(d=Object(k.a)(Object(k.a)({},d),{},{singularOptions:e.singularOptions})),e.default&&(d=Object(k.a)(Object(k.a)({},d),{},{default:qn(e.default)}));else{if(!i.type.startsWith("@"))throw console.error("Unknown type '".concat(i.type,"'")),Error("Unknown type '".concat(i.type,"'"));e.singularOptions&&(d=Object(k.a)(Object(k.a)({},d),{},{singularOptions:e.singularOptions})),e.default&&(d=Object(k.a)(Object(k.a)({},d),{},{default:qn(e.default)}))}}return{arg:d,clsDefineMap:s}}function Kn(e,t){switch(t){case"byte":case"binary":case"duration":case"date":case"dateTime":case"uuid":case"password":case"SubscriptionId":case"ResourceGroupName":case"ResourceId":case"ResourceLocation":case"string":if(0===e.trim().length)throw Error("Not supported empty value: '".concat(e,"'"));return e.trim();case"integer32":case"integer64":case"integer":if(Number.isNaN(parseInt(e.trim())))throw Error("Not supported default value for integer type: '".concat(e,"'"));return parseInt(e.trim());case"float32":case"float64":case"float":if(Number.isNaN(parseFloat(e.trim())))throw Error("Not supported default value for float type: '".concat(e,"'"));return parseFloat(e.trim());case"boolean":switch(e.trim().toLowerCase()){case"true":case"yes":return!0;case"false":case"no":return!1;default:throw Error("Not supported default value for boolean type: '".concat(e,"'"))}case"object":return JSON.parse(e.trim());default:if(t.startsWith("array"))return JSON.parse(e.trim());if(t.startsWith("dict"))return JSON.parse(e.trim());throw Error("Not supported type: ".concat(t))}}var Bn=function(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(void 0),c=Object(h.a)(s,2),l=c[0],d=c[1],u=Object(a.useState)(void 0),p=Object(h.a)(u,2),j=(p[0],p[1]),f=Object(a.useState)(!1),b=Object(h.a)(f,2),O=b[0],v=b[1],g=Object(a.useState)(!1),y=Object(h.a)(g,2),C=y[0],S=y[1],k=function(){var t=Object(he.a)(je.a.mark((function t(n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&e.onReloadArgs(),i(!1),d(void 0),j(void 0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(he.a)(je.a.mark((function t(n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&e.onReloadArgs(),v(!1),d(void 0),j(void 0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(he.a)(je.a.mark((function t(n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&e.onReloadArgs(),S(!1),d(void 0),j(void 0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsxs)(vt.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"stretch"},children:[Object(m.jsx)(x.a,{sx:{mb:2,display:"flex",flexDirection:"row",alignItems:"center"},children:Object(m.jsx)(kt,{sx:{flexShrink:0},children:"[ ARGUMENT ]"})}),Object(m.jsx)(On,{commandUrl:e.commandUrl,args:e.args,clsArgDefineMap:e.clsArgDefineMap,onEdit:function(e,t){d(e),j(t),i(!0)},onFlatten:function(e,t){d(e),j(t),v(!0)},onUnwrap:function(e,t){d(e),j(t),S(!0)},onAddSubcommand:function(t,n){var a=t.var,r=n.map((function(e){for(var t=e.displayKey;t.startsWith("-");)t=t.slice(1);return(t.endsWith("[]")||t.endsWith("{}"))&&(t=t.slice(0,t.length-2),t=bn.a.singular(t)),t})),o=t;if(o.type.startsWith("@")){var i=o.clsName;o=e.clsArgDefineMap[i]}(o.type.startsWith("dict<")||o.type.startsWith("array<"))&&(o=o.item);var s=[];if(void 0!==o){var c;if(o.type.startsWith("@")){var l=o.clsName;c=e.clsArgDefineMap[l].args}else c=o.args;s=c.map((function(e){return{var:e.var,options:e.options.join(" ")}}))}e.onAddSubCommand(a,s,r)}})]}),o&&Object(m.jsx)(Wn,{commandUrl:e.commandUrl,arg:l,clsArgDefineMap:e.clsArgDefineMap,open:o,onClose:k}),O&&Object(m.jsx)(Rn,{commandUrl:e.commandUrl,arg:l,clsArgDefineMap:e.clsArgDefineMap,open:O,onClose:w}),C&&Object(m.jsx)(zn,{commandUrl:e.commandUrl,arg:l,open:C,onClose:D})]})},Jn="az ",_n=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),Yn=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),$n=Object(ut.a)(b.a)((function(e){e.theme;return{color:"#5d64cf",fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),Xn=Object(ut.a)((function(e){return Object(m.jsx)(Kt.a,Object(k.a)({expandIcon:Object(m.jsx)(en.a,{fontSize:"small",color:"primary"})},e))}))((function(e){e.theme;return{flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(0deg)"}}})),Qn=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadCommand=Object(he.a)(je.a.mark((function e(){var t,n,r,o,i,s,c;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),t=a.props,n=t.workspaceUrl,r=t.previewCommand,o=r.names,i="".concat(n,"/CommandTree/Nodes/aaz/")+o.slice(0,-1).join("/")+"/Leaves/"+o[o.length-1],e.prev=4,e.next=7,oe.a.get(i);case 7:s=e.sent,(c=oa(s.data)).id===a.props.previewCommand.id&&a.setState({loading:!1,command:c}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),a.setState({loading:!1}),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),a.onCommandDialogDisplay=function(){a.setState({displayCommandDialog:!0})},a.onCommandDeleteDialogDisplay=function(){a.setState({displayCommandDeleteDialog:!0})},a.handleCommandDialogClose=function(e){e&&a.props.onUpdateCommand(e),a.setState({displayCommandDialog:!1})},a.handleCommandDeleteDialogClose=function(e){e&&a.props.onUpdateCommand(null),a.setState({displayCommandDeleteDialog:!1})},a.onExampleDialogDisplay=function(e){a.setState({displayExampleDialog:!0,exampleIdx:e})},a.handleExampleDialogClose=function(e){e&&a.props.onUpdateCommand(e),a.setState({displayExampleDialog:!1})},a.onAddSubcommandDialogDisplay=function(e,t,n){a.setState({displayAddSubcommandDialog:!0,subcommandArgVar:e,subcommandSubArgOptions:t,subcommandDefaultGroupNames:[].concat(Object(fe.a)(a.props.previewCommand.names.slice(0,-1)),Object(fe.a)(n))})},a.handleAddSubcommandDisplayClose=function(e){e&&a.props.onUpdateCommand(a.state.command),a.setState({displayAddSubcommandDialog:!1,subcommandArgVar:void 0,subcommandDefaultGroupNames:void 0})},a.state={command:void 0,displayCommandDialog:!1,displayExampleDialog:!1,displayCommandDeleteDialog:!1,displayAddSubcommandDialog:!1,loading:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadCommand()}},{key:"componentDidUpdate",value:function(e){e.workspaceUrl===this.props.workspaceUrl&&e.previewCommand.id===this.props.previewCommand.id&&e.reloadTimestamp===this.props.reloadTimestamp||(e.previewCommand.id!==this.props.previewCommand.id&&this.setState({command:void 0}),this.loadCommand())}},{key:"render",value:function(){var e=this,t=this.props,n=t.workspaceUrl,a=t.previewCommand,o=a.names,i=Jn+o.join(" "),s="".concat(n,"/CommandTree/Nodes/aaz/")+o.slice(0,-1).join("/")+"/Leaves/"+o[o.length-1],c=this.state,l=c.command,d=c.displayCommandDialog,u=c.displayExampleDialog,p=c.displayCommandDeleteDialog,j=c.displayAddSubcommandDialog,f=c.exampleIdx,h=c.loading,O=function(t,n){return Object(m.jsxs)(Vt.a,{elevation:0,expanded:!0,onDoubleClick:function(){e.onExampleDialogDisplay(n)},children:[Object(m.jsx)(Xn,{id:"example-".concat(n,"-header"),children:Object(m.jsxs)(x.a,{sx:{ml:1,flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(m.jsx)(Tt,{sx:{flexShrink:0},children:t.name}),Object(m.jsx)(ae.a,{sx:{flexShrink:0,ml:3},startIcon:Object(m.jsx)(Qe.a,{color:"info",fontSize:"small"}),onClick:function(){e.onExampleDialogDisplay(n)},children:Object(m.jsx)($n,{children:"Edit"})})]})}),Object(m.jsx)(Lt.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",ml:3,mr:3,paddingTop:0},children:t.commands.map((function(e,t){return Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(m.jsxs)(x.a,{component:"span",sx:{flexShrink:0,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(m.jsx)(Xt.a,{fontSize:"small"}),Object(m.jsx)(_n,{sx:{flexShrink:0},children:Jn})]}),Object(m.jsx)(x.a,{component:"span",sx:{ml:.8},children:Object(m.jsx)(Yn,{children:e})})]},"example-".concat(n,"-command-").concat(t))}))})]},"example-".concat(n))};return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:[function(){var t,n,r,o,s,c=null===(t=(null!==l&&void 0!==l?l:a).help)||void 0===t?void 0:t.short,d=null===(n=(null!==l&&void 0!==l?l:a).help)||void 0===n||null===(r=n.lines)||void 0===r?void 0:r.join("\n"),u=null!==(o=null===(s=(null!==l&&void 0!==l?l:a).help)||void 0===s?void 0:s.lines)&&void 0!==o?o:[],p=(null!==l&&void 0!==l?l:a).stage,j=(null!==l&&void 0!==l?l:a).version;return Object(m.jsxs)(Ot.a,{onDoubleClick:e.onCommandDialogDisplay,elevation:3,sx:{flexGrow:1,display:"flex",flexDirection:"column",p:2},children:[Object(m.jsxs)(vt.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",justifyContent:"stretch"},children:[Object(m.jsxs)(x.a,{sx:{mb:2,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(m.jsx)(kt,{sx:{flexShrink:0},children:"[ COMMAND ]"}),Object(m.jsx)(x.a,{sx:{flexGrow:1}}),"Stable"===p&&Object(m.jsx)(Wt,{sx:{flexShrink:0},children:"v".concat(j)}),"Preview"===p&&Object(m.jsx)(Rt,{sx:{flexShrink:0},children:"v".concat(j)}),"Experimental"===p&&Object(m.jsx)(zt,{sx:{flexShrink:0},children:"v".concat(j)})]}),Object(m.jsx)(wt,{sx:{mt:1},children:i}),c&&Object(m.jsxs)(Dt,{sx:{ml:6,mt:2},children:[" ",c," "]}),!c&&Object(m.jsx)(It,{sx:{ml:6,mt:2},children:"Please add command short summary!"}),d&&Object(m.jsx)(x.a,{sx:{ml:6,mt:1,mb:1},children:u.map((function(e,t){return Object(m.jsx)(At,{children:e},t)}))})]}),Object(m.jsxs)(gt.a,{sx:{display:"flex",flexDirection:"row-reverse",alignContent:"center",justifyContent:"flex-start"},children:[h&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!h&&Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"flex-start"},children:[Object(m.jsx)(ae.a,{variant:"contained",size:"small",color:"info",disableElevation:!0,onClick:e.onCommandDialogDisplay,disabled:h,sx:{mr:2},children:Object(m.jsx)(b.a,{variant:"body2",children:"Edit"})}),Object(m.jsx)(ae.a,{variant:"outlined",size:"small",color:"info",onClick:e.onCommandDeleteDialogDisplay,disabled:h,sx:{mr:2},children:Object(m.jsx)(b.a,{variant:"body2",children:"Delete"})}),Object(m.jsx)(ae.a,{variant:"outlined",size:"small",color:"info",sx:{mr:2},disabled:!0,children:Object(m.jsx)(b.a,{variant:"body2",children:"Try"})})]})]})]})}(),void 0!==l&&void 0!==l.args&&Object(m.jsx)(Ot.a,{elevation:3,sx:{flexGrow:1,display:"flex",flexDirection:"column",mt:1,p:2},children:Object(m.jsx)(Bn,{commandUrl:s,args:l.args,clsArgDefineMap:l.clsArgDefineMap,onReloadArgs:e.loadCommand,onAddSubCommand:e.onAddSubcommandDialogDisplay})}),void 0!==l&&function(){var t,n=null!==(t=l.examples)&&void 0!==t?t:[];return Object(m.jsxs)(Ot.a,{elevation:3,sx:{flexGrow:1,display:"flex",flexDirection:"column",mt:1,p:2},children:[Object(m.jsxs)(vt.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"stretch"},children:[Object(m.jsx)(x.a,{sx:{mb:2,display:"flex",flexDirection:"row",alignItems:"center"},children:Object(m.jsx)(kt,{sx:{flexShrink:0},children:"[ EXAMPLE ]"})}),n.length>0&&Object(m.jsx)(x.a,{children:n.map(O)})]}),Object(m.jsx)(gt.a,{sx:{display:"flex",flexDirection:"row-reverse"},children:Object(m.jsx)(ae.a,{variant:"contained",size:"small",color:"info",disableElevation:!0,onClick:function(){return e.onExampleDialogDisplay(void 0)},children:Object(m.jsx)(b.a,{variant:"body2",children:"Add"})})})]})}()]}),void 0!==l&&d&&Object(m.jsx)(ta,{open:d,workspaceUrl:n,command:l,onClose:this.handleCommandDialogClose}),void 0!==l&&u&&Object(m.jsx)(aa,{open:u,workspaceUrl:n,command:l,idx:f,onClose:this.handleExampleDialogClose}),void 0!==l&&p&&Object(m.jsx)(ea,{open:p,workspaceUrl:n,command:l,onClose:this.handleCommandDeleteDialogClose}),void 0!==l&&j&&Object(m.jsx)(ra,{open:j,workspaceUrl:n,command:l,onClose:this.handleAddSubcommandDisplayClose,argVar:this.state.subcommandArgVar,subArgOptions:this.state.subcommandSubArgOptions,defaultGroupNames:this.state.subcommandDefaultGroupNames})]})}}]),n}(r.a.Component);function ea(e){var t=r.a.useState(!1),n=Object(h.a)(t,2),a=n[0],o=n[1],i=r.a.useState([]),s=Object(h.a)(i,2),c=s[0],l=s[1],d=function(){var t=[];return e.command.resources.forEach((function(n){var a=btoa(n.id),r=btoa(n.version);if(void 0!==n.subresource){var o=btoa(n.subresource);t.push("".concat(e.workspaceUrl,"/Resources/").concat(a,"/V/").concat(r,"/Subresources/").concat(o))}else t.push("".concat(e.workspaceUrl,"/Resources/").concat(a,"/V/").concat(r))})),t};r.a.useEffect((function(){l([]);var e=d().map((function(e){return oe.a.get("".concat(e,"/Commands"))}));Promise.all(e).then((function(e){var t=new Set;e.forEach((function(e){e.data.map((function(e){return oa(e)})).forEach((function(e){t.add(e.names.join(" "))}))}));var n=[];t.forEach((function(e){return n.push(e)})),n.sort((function(e,t){return e.localeCompare(t)})),l(n)})).catch((function(e){console.error(e.response)}))}),[e.command]);return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(m.jsx)(ee.a,{children:"Delete Commands"}),Object(m.jsx)(te.a,{dividers:!0,children:c.map((function(e,t){return Object(m.jsx)(b.a,{variant:"body2",children:"".concat(Jn).concat(e)},"command-".concat(t))}))}),Object(m.jsxs)(ne.a,{children:[a&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!a&&Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:function(){o(!0);var t=d().map((function(e){return oe.a.delete(e)}));Promise.all(t).then((function(t){o(!1),e.onClose(!0)})).catch((function(e){o(!1),console.error(e.response)}))},children:"Delete"})]})]})]})}var ta=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a,r,o,i,s,c,d;return Object(l.a)(this,n),(d=t.call(this,e)).handleModify=function(e){var t=d.state,n=t.name,a=t.stage,r=t.shortHelp,o=t.longHelp,i=t.confirmation,s=d.props,c=s.workspaceUrl,l=s.command;n=n.trim(),r=r.trim(),o=o.trim(),i=i.trim();var u=n.split(" ").filter((function(e){return e.length>0}));if(d.setState({invalidText:void 0}),u.length<1)d.setState({invalidText:"Field 'Name' is required."});else{for(var p in u){var m=u[p];if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(m))return void d.setState({invalidText:"Invalid Name part: '".concat(m,"'. Supported regular expression is: [a-z0-9]+(-[a-z0-9]+)* ")})}if(r.length<1)d.setState({invalidText:"Field 'Short Summary' is required."});else{var j=null;o.length>1&&(j=o.split("\n").filter((function(e){return e.length>0}))),d.setState({updating:!0});var f="".concat(c,"/CommandTree/Nodes/aaz/")+l.names.slice(0,-1).join("/")+"/Leaves/"+l.names[l.names.length-1];oe.a.patch(f,{help:{short:r,lines:j},stage:a,confirmation:i}).then((function(e){var t=u.join(" ");if(t===l.names.join(" ")){var n=oa(e.data);d.setState({updating:!1}),d.props.onClose(n)}else oe.a.post("".concat(f,"/Rename"),{name:t}).then((function(e){var t=oa(e.data);d.setState({updating:!1}),d.props.onClose(t)}))})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;d.setState({invalidText:"ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details))})}d.setState({updating:!1})}))}}},d.handleClose=function(){d.setState({invalidText:void 0}),d.props.onClose()},d.state={name:d.props.command.names.join(" "),shortHelp:null!==(a=null===(r=d.props.command.help)||void 0===r?void 0:r.short)&&void 0!==a?a:"",longHelp:null!==(o=null===(i=d.props.command.help)||void 0===i||null===(s=i.lines)||void 0===s?void 0:s.join("\n"))&&void 0!==o?o:"",stage:d.props.command.stage,confirmation:null!==(c=d.props.command.confirmation)&&void 0!==c?c:"",updating:!1},d}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.shortHelp,o=t.longHelp,i=t.invalidText,s=t.updating,c=t.stage,l=t.confirmation;return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:this.props.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(m.jsx)(ee.a,{children:"Command"}),Object(m.jsxs)(te.a,{dividers:!0,children:[i&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",i," "]}),Object(m.jsx)(ze.a,{required:!0,shrink:!0,sx:{font:"inherit"},children:"Stage"}),Object(m.jsxs)(yt.a,{row:!0,value:c,name:"stage",onChange:function(t){e.setState({stage:t.target.value})},children:[Object(m.jsx)(Ct.a,{value:"Stable",control:Object(m.jsx)(St.a,{}),label:"Stable",sx:{ml:4}}),Object(m.jsx)(Ct.a,{value:"Preview",control:Object(m.jsx)(St.a,{}),label:"Preview",sx:{ml:4}}),Object(m.jsx)(Ct.a,{value:"Experimental",control:Object(m.jsx)(St.a,{}),label:"Experimental",sx:{ml:4}})]}),Object(m.jsx)(X.a,{id:"name",label:"Name",type:"text",fullWidth:!0,variant:"standard",value:n,onChange:function(t){e.setState({name:t.target.value})},margin:"normal",required:!0}),Object(m.jsx)(X.a,{id:"shortSummary",label:"Short Summary",type:"text",fullWidth:!0,variant:"standard",value:a,onChange:function(t){e.setState({shortHelp:t.target.value})},margin:"normal",required:!0}),Object(m.jsx)(X.a,{id:"longSummary",label:"Long Summary",helperText:"Please add long summer in lines.",type:"text",fullWidth:!0,multiline:!0,variant:"standard",value:o,onChange:function(t){e.setState({longHelp:t.target.value})},margin:"normal"}),Object(m.jsx)(X.a,{id:"confirmation",label:"Command confirmation",helperText:"Modify or clear confirmation message as needed.",type:"text",fullWidth:!0,multiline:!0,variant:"standard",value:l,onChange:function(t){e.setState({confirmation:t.target.value})},margin:"normal"})]}),Object(m.jsxs)(ne.a,{children:[s&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!s&&Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:this.handleClose,children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:this.handleModify,children:"Save"})]})]})]})}}]),n}(r.a.Component),na=Object(ut.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:400}})),aa=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a,r;Object(l.a)(this,n),(r=t.call(this,e)).onUpdateExamples=function(e){var t=r.props,n=t.workspaceUrl,a=t.command,o="".concat(n,"/CommandTree/Nodes/aaz/")+a.names.slice(0,-1).join("/")+"/Leaves/"+a.names[a.names.length-1];r.setState({updating:!0}),oe.a.patch(o,{examples:e}).then((function(e){var t=oa(e.data);r.setState({updating:!1}),r.props.onClose(t)})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;r.setState({invalidText:"ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details))})}r.setState({updating:!1})}))},r.handleDelete=function(){var e,t=null!==(e=r.props.command.examples)&&void 0!==e?e:[],n=r.props.idx;t=[].concat(Object(fe.a)(t.slice(0,n)),Object(fe.a)(t.slice(n+1))),r.onUpdateExamples(t)},r.handleModify=function(){var e,t=r.props.command,n=r.state,a=n.name,o=n.exampleCommands,i=null!==(e=t.examples)&&void 0!==e?e:[],s=r.props.idx;if((a=a.trim()).length<1)r.setState({invalidText:"Field 'Name' is required."});else if((o=o.map((function(e){return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).join(" ").trim()})).filter((function(e){return e.length>0}))).length<1)r.setState({invalidText:"Field 'Commands' is required."});else{var c={name:a,commands:o};i=[].concat(Object(fe.a)(i.slice(0,s)),[c],Object(fe.a)(i.slice(s+1))),r.onUpdateExamples(i)}},r.handleAdd=function(){var e,t=r.props.command,n=r.state,a=n.name,o=n.exampleCommands,i=null!==(e=t.examples)&&void 0!==e?e:[];if((a=a.trim()).length<1)r.setState({invalidText:"Field 'Name' is required."});else if((o=o.map((function(e){return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).join(" ").trim()})).filter((function(e){return e.length>0}))).length<1)r.setState({invalidText:"Field 'Commands' is required."});else{var s={name:a,commands:o};i.push(s),r.onUpdateExamples(i)}},r.handleClose=function(){r.setState({invalidText:void 0}),r.props.onClose()},r.onModifyExampleCommand=function(e,t){r.setState((function(n){return Object(k.a)(Object(k.a)({},n),{},{exampleCommands:[].concat(Object(fe.a)(n.exampleCommands.slice(0,t)),[e],Object(fe.a)(n.exampleCommands.slice(t+1)))})}))},r.onRemoveExampleCommand=function(e){r.setState((function(t){var n=[].concat(Object(fe.a)(t.exampleCommands.slice(0,e)),Object(fe.a)(t.exampleCommands.slice(e+1)));return 0===n.length&&n.push(""),Object(k.a)(Object(k.a)({},t),{},{exampleCommands:n})}))},r.onAddExampleCommand=function(){r.setState((function(e){return Object(k.a)(Object(k.a)({},e),{},{exampleCommands:[].concat(Object(fe.a)(e.exampleCommands),[""])})}))};var o=null!==(a=r.props.command.examples)&&void 0!==a?a:[];if(void 0===r.props.idx)r.state={name:"",exampleCommands:[""],isAdd:!0,invalidText:void 0,updating:!1};else{var i=o[r.props.idx];r.state={name:i.name,exampleCommands:i.commands,isAdd:!1,invalidText:void 0,updating:!1}}return r}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.exampleCommands,o=t.isAdd,i=t.invalidText,s=t.updating;return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:this.props.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(m.jsx)(ee.a,{children:o?"Add Example":"Modify Example"}),Object(m.jsxs)(te.a,{dividers:!0,children:[i&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",i," "]}),Object(m.jsx)(X.a,{id:"name",label:"Name",type:"text",fullWidth:!0,variant:"standard",value:n,onChange:function(t){e.setState({name:t.target.value})},margin:"normal",required:!0}),Object(m.jsx)(ze.a,{required:!0,sx:{font:"inherit",mt:1},children:"Commands"}),a.map((function(t,n){return Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",ml:1},children:[Object(m.jsx)(Ae.a,{edge:"start",color:"inherit",onClick:function(){return e.onRemoveExampleCommand(n)},"aria-label":"remove",children:Object(m.jsx)(Jt.a,{fontSize:"small"})}),Object(m.jsx)(qt.a,{id:"command-".concat(n),multiline:!0,value:t,onChange:function(t){e.onModifyExampleCommand(t.target.value,n)},sx:{flexGrow:1},placeholder:"Input a command here.",startAdornment:Object(m.jsx)(Ht.a,{position:"start",children:Object(m.jsx)(na,{children:Jn})})})]},n)})),Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",ml:1},children:[Object(m.jsx)(Ae.a,{edge:"start",color:"inherit",onClick:this.onAddExampleCommand,"aria-label":"remove",children:Object(m.jsx)(Yt.a,{fontSize:"small"})}),Object(m.jsx)(na,{sx:{flexShrink:0},children:" One more command"})]})]}),Object(m.jsxs)(ne.a,{children:[s&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!s&&Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:this.handleClose,children:"Cancel"}),!o&&Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:this.handleDelete,children:"Delete"}),Object(m.jsx)(ae.a,{onClick:this.handleModify,children:"Save"})]}),o&&Object(m.jsx)(ae.a,{onClick:this.handleAdd,children:"Add"})]})]})]})}}]),n}(r.a.Component);function ra(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(void 0),s=Object(h.a)(i,2),c=s[0],l=s[1],d=Object(a.useState)(""),u=Object(h.a)(d,2),p=u[0],j=u[1],f=Object(a.useState)([]),b=Object(h.a)(f,2),O=b[0],v=b[1];Object(a.useEffect)((function(){j(e.defaultGroupNames.join(" ")),v(e.subArgOptions)}),[e.argVar,e.defaultGroupNames]);var g=function(){l(void 0);var e={},t=void 0;O.forEach((function(n,a){var r=n.options.split(" ").filter((function(e){return e.length>0}));if(r.length<1)t="Prop ".concat(a+1," option name is required.");else{for(var o in r){var i=r[o];if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(i))return void(t="Invalid 'Prop ".concat(o+1," option name': '").concat(i,"'. Supported regular expression is: [a-z0-9]+(-[a-z0-9]+)* "))}e[n.var]=r}}));var n=p.split(" ").filter((function(e){return e.length>0}));if(n.length<1)t="Invalid Command group name";else{if(void 0===t)return{commandGroupName:n.join(" "),refArgsOptions:e};l(t)}},y=function(){var t=Object(he.a)(je.a.mark((function t(){var n,a,r,i,s;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===(n=e.command.resources.map((function(t){var n=btoa(t.id),a=btoa(t.version);return"".concat(e.workspaceUrl,"/Resources/").concat(n,"/V/").concat(a,"/Subresources")}))).length){t.next=4;break}return l("Cannot create subcommands, command contains ".concat(e.command.resources.length," resources")),t.abrupt("return");case 4:if(void 0!==(a=g())){t.next=7;break}return t.abrupt("return");case 7:return o(!0),t.prev=8,t.next=11,oe.a.post(n[0],Object(k.a)(Object(k.a)({},a),{},{arg:e.argVar}));case 11:e.onClose(!0),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(8),console.error(t.t0.response),(null===(r=t.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)&&(s=t.t0.response.data,l("ResponseError: ".concat(s.message,": ").concat(JSON.stringify(s.details)))),o(!1);case 19:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(m.jsx)(ee.a,{children:"Add Subcommands"}),Object(m.jsxs)(te.a,{dividers:!0,children:[c&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",c," "]}),Object(m.jsx)(Zt.a,{children:"Subcommand Group"}),Object(m.jsx)(X.a,{id:"subcommand-group-name",label:"name",placeholder:"Please input command group name for subcommands",type:"text",variant:"standard",value:p,fullWidth:!0,margin:"normal",required:!0,onChange:function(e){j(e.target.value)}}),O.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Zt.a,{children:"Argument Options"}),O.map((function(e,t){return Object(m.jsx)(X.a,{id:"subArg-".concat(e.var),label:"".concat(e.var),helperText:0===t?"You can input multiple names separated by a space character":void 0,type:"text",fullWidth:!0,variant:"standard",value:e.options,onChange:function(t){var n=O.map((function(n){return n.var===e.var?Object(k.a)(Object(k.a)({},n),{},{options:t.target.value}):n}));v(n)},margin:"normal",required:!0},e.var)}))]})]}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){l(void 0),e.onClose(!1)},children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:y,children:"Add Subcommands"})]})]})]})}var oa=function(e){var t,n={id:"command:"+e.names.join("/"),names:e.names,help:e.help,stage:null!==(t=e.stage)&&void 0!==t?t:"Stable",examples:e.examples,resources:e.resources,version:e.version};return e.confirmation&&(n.confirmation=e.confirmation),e.argGroups&&(n=Object(k.a)(Object(k.a)({},n),function(e){var t={},n=[];return e.forEach((function(e){n.push.apply(n,Object(fe.a)(e.args.map((function(e){var n=Zn(e);return t=Object(k.a)(Object(k.a)({},t),n.clsDefineMap),n.arg}))))})),{args:n,clsArgDefineMap:t}}(e.argGroups))),n},ia=Qn,sa=a.forwardRef((function(e,t){return Object(m.jsx)(xe.a,Object(k.a)({direction:"up",ref:t},e))})),ca=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadWorkspace=function(){var e=Object(he.a)(je.a.mark((function e(t){var n,r,o,i,s,c,l,d,u,p,m,j,f,h,x,b,O,v;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.workspaceUrl,void 0===t&&(t=null===(r=a.state.selected)||void 0===r?void 0:r.id),e.prev=2,e.next=5,oe.a.get(n);case 5:if(o=e.sent,i=Date.now(),s={},c={},l=function(e){var t=oa(e);return s[t.id]=t,{id:t.id,names:Object(fe.a)(t.names)}},d=function e(t){var n,a,r=Ft(t);c[r.id]=r;var o={id:r.id,names:Object(fe.a)(r.names),canDelete:r.canDelete};if("object"===typeof t.commands&&null!==t.commands){for(var i in o.leaves=[],t.commands){var s=l(t.commands[i]);o.leaves.push(s)}o.leaves.sort((function(e,t){return e.id.localeCompare(t.id)})),o.leaves.length>0&&(o.canDelete=!1)}if("object"===typeof t.commandGroups&&null!==t.commandGroups){for(var d in o.nodes=[],t.commandGroups){var u=e(t.commandGroups[d]);o.nodes.push(u),u.canDelete||(o.canDelete=!1)}o.nodes.sort((function(e,t){return e.id.localeCompare(t.id)}))}return(null!==(n=null===(a=o.leaves)||void 0===a?void 0:a.length)&&void 0!==n?n:0)>1&&(o.canDelete=!1),r.canDelete=o.canDelete,o},u=[],o.data.commandTree.commandGroups){for(m in p=o.data.commandTree.commandGroups)u.push(d(p[m]));u.sort((function(e,t){return e.id.localeCompare(t.id)}))}if(j=null,null!=t)if(t.startsWith("command:"))if((f=t)in s)j=s[f];else{for(f="group:"+f.slice(8),h=f.split("/");h.length>1&&!(f in c);)h=h.slice(0,-1),f=h.join("/");f in c&&(j=c[f])}else if(t.startsWith("group:")){for(b=(x=t).split("/");b.length>1&&!(x in c);)b=b.slice(0,-1),x=b.join("/");x in c&&(j=c[x])}null===j&&u.length>0&&(j=c[u[0].id]),a.setState((function(e){var t=new Set;for(var n in e.expanded.forEach((function(e){e in c&&t.add(e)})),c)n in e.commandGroupMap||t.add(n);return Object(k.a)(Object(k.a)({},e),{},{plane:o.data.plane,commandTree:u,selected:j,reloadTimestamp:i,commandMap:s,commandGroupMap:c,expanded:t})})),j&&((O=j.id).startsWith("command:")&&(O=O.replace("command:","group:").split("/").slice(0,-1).join("/")),v=O.split("/"),a.setState((function(e){var t=new Set(e.expanded);return v.forEach((function(e,n){t.add(v.slice(0,n+1).join("/"))})),Object(k.a)(Object(k.a)({},e),{},{expanded:t})}))),0===u.length&&a.showSwaggerResourcePicker(),e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(2),e.abrupt("return",console.error(e.t0));case 24:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t){return e.apply(this,arguments)}}(),a.showSwaggerResourcePicker=function(){a.setState({showSwaggerResourcePicker:!0})},a.showSwaggerReloadDialog=function(){a.setState({showSwaggerReloadDialog:!0})},a.handleSwaggerReloadDialogClose=function(){var e=Object(he.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,a.loadWorkspace();case 3:a.setState({showSwaggerReloadDialog:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSwaggerResourcePickerClose=function(e){e&&a.loadWorkspace(),a.setState({showSwaggerResourcePicker:!1})},a.handleBackToHomepage=function(){window.location.href="/?#/workspace"},a.handleGenerate=function(){a.setState({showExportDialog:!0})},a.handleGenerationClose=function(e){a.setState({showExportDialog:!1})},a.handleDelete=function(){a.setState({showDeleteDialog:!0})},a.handleDeleteClose=function(e){a.setState({showDeleteDialog:!1}),e&&a.handleBackToHomepage()},a.handleModify=function(){a.setState({showModifyDialog:!0})},a.handleModifyClose=function(e){a.setState({showModifyDialog:!1}),e&&setTimeout((function(){var t="/?#/workspace/"+e;window.location.href=t,window.location.reload()}))},a.handleCommandTreeSelect=function(e){e.startsWith("command:")?a.setState((function(t){var n=t.commandMap[e];return Object(k.a)(Object(k.a)({},t),{},{selected:n})})):e.startsWith("group:")&&a.setState((function(t){var n=t.commandGroupMap[e];return Object(k.a)(Object(k.a)({},t),{},{selected:n})}))},a.handleCommandGroupUpdate=function(e){a.loadWorkspace(null===e||void 0===e?void 0:e.id)},a.handleCommandUpdate=function(e){a.loadWorkspace(null===e||void 0===e?void 0:e.id)},a.handleCommandTreeToggle=function(e){var t=new Set(e);a.setState({expanded:t})},a.state={name:a.props.params.workspaceName,workspaceUrl:"/AAZ/Editor/Workspaces/".concat(a.props.params.workspaceName),plane:"",selected:null,reloadTimestamp:null,expanded:new Set,commandMap:{},commandGroupMap:{},commandTree:[],showSwaggerResourcePicker:!1,showSwaggerReloadDialog:!1,showExportDialog:!1,showDeleteDialog:!1,showModifyDialog:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadWorkspace()}},{key:"render",value:function(){var e=this.state,t=e.showSwaggerResourcePicker,n=e.showSwaggerReloadDialog,r=e.showExportDialog,o=e.showDeleteDialog,i=e.showModifyDialog,s=e.plane,c=e.name,l=e.commandTree,d=e.selected,u=e.reloadTimestamp,p=e.workspaceUrl,j=e.expanded,f=[];return j.forEach((function(e){f.push(e)})),Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(rt,{workspaceName:c,onHomePage:this.handleBackToHomepage,onGenerate:this.handleGenerate,onDelete:this.handleDelete,onModify:this.handleModify}),Object(m.jsxs)(x.a,{sx:{display:"flex"},children:[Object(m.jsxs)(be.a,{variant:"permanent",sx:Object(pe.a)({width:300,flexShrink:0},"& .MuiDrawer-paper",{width:300,boxSizing:"border-box"}),children:[Object(m.jsx)(M.a,{}),null!=d&&Object(m.jsx)(bt,{commandTreeNodes:l,onSelected:this.handleCommandTreeSelect,onToggle:this.handleCommandTreeToggle,onAdd:this.showSwaggerResourcePicker,onReload:this.showSwaggerReloadDialog,selected:d.id,expanded:f})]}),Object(m.jsxs)(x.a,{component:"main",sx:{flexGrow:1,p:1},children:[Object(m.jsx)(M.a,{sx:{flexShrink:0}}),null!=d&&d.id.startsWith("group:")&&Object(m.jsx)(Ut,{workspaceUrl:p,commandGroup:d,reloadTimestamp:u,onUpdateCommandGroup:this.handleCommandGroupUpdate}),null!=d&&d.id.startsWith("command:")&&Object(m.jsx)(ia,{workspaceUrl:p,previewCommand:d,reloadTimestamp:u,onUpdateCommand:this.handleCommandUpdate})]})]}),Object(m.jsx)(Q.a,{fullScreen:!0,open:t,onClose:this.handleSwaggerResourcePickerClose,TransitionComponent:sa,children:Object(m.jsx)(Je,{plane:s,workspaceName:c,onClose:this.handleSwaggerResourcePickerClose})}),i&&Object(m.jsx)(pa,{workspaceUrl:p,workspaceName:c,open:i,onClose:this.handleModifyClose}),o&&Object(m.jsx)(da,{workspaceName:c,open:o,onClose:this.handleDeleteClose}),r&&Object(m.jsx)(la,{workspaceUrl:p,open:r,onClose:this.handleGenerationClose}),n&&Object(m.jsx)(ua,{workspaceUrl:p,open:n,onClose:this.handleSwaggerReloadDialogClose})]})}}]),n}(a.Component);function la(e){var t=a.useState(!1),n=Object(h.a)(t,2),r=n[0],o=n[1],i=a.useState(void 0),s=Object(h.a)(i,2),c=s[0],l=s[1];return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(m.jsx)(ee.a,{children:"Export workspace command models to AAZ Repo"}),Object(m.jsx)(te.a,{children:c&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",c," "]})}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:function(){var t="".concat(e.workspaceUrl,"/Generate");o(!0),oe.a.post(t).then((function(t){o(!1),e.onClose(!0)})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;l("ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details)))}o(!1)}))},children:"Confirm"})]})]})]})}function da(e){var t=a.useState(!1),n=Object(h.a)(t,2),r=n[0],o=n[1],i=a.useState(void 0),s=Object(h.a)(i,2),c=s[0],l=s[1],d=a.useState(void 0),u=Object(h.a)(d,2),p=u[0],j=u[1];return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(m.jsxs)(ee.a,{children:["Delete '",e.workspaceName,"' workspace?"]}),Object(m.jsxs)(te.a,{dividers:!0,children:[c&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",c," "]}),Object(m.jsx)(X.a,{id:"name",label:"Workspace Name",helperText:"Please type workspace name to confirm.",type:"text",fullWidth:!0,variant:"standard",value:p,onChange:function(e){j(e.target.value)},margin:"normal",required:!0})]}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:function(){o(!0);var t="/AAZ/Editor/Workspaces/"+e.workspaceName;oe.a.delete(t).then((function(t){o(!1),e.onClose(!0)})).catch((function(e){var t,n;if(console.error(e.response.data),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;l("ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details)))}o(!1)}))},disabled:e.workspaceName!==p,children:"Confirm"})]})]})]})}var ua=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadResourceOptions=Object(he.a)(je.a.mark((function e(){var t,n,r,o,i;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({invalidText:void 0,updating:!0}),e.prev=1,e.next=4,oe.a.get("".concat(a.props.workspaceUrl,"/CommandTree/Nodes/aaz/Resources"));case 4:t=e.sent,n=t.data,a.setState({updating:!1,resourceOptions:n,selectedResources:new Set(n.map((function(e){return e.id})))}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0.response),(null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)&&(i=e.t0.response.data,a.setState({invalidText:"ResponseError: ".concat(i.message),updating:!1}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),a.handleClose=function(){a.props.onClose(!1)},a.handleReload=Object(he.a)(je.a.mark((function e(){var t,n,r,o,i,s,c,l;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.selectedResources,r=t.resourceOptions,o={resources:r.filter((function(e){return n.has(e.id)})).map((function(e){return{id:e.id,version:e.version}}))},i="".concat(a.props.workspaceUrl,"/Resources/ReloadSwagger"),a.setState({invalidText:void 0,updating:!0}),e.prev=4,e.next=7,oe.a.post(i,o);case 7:a.setState({updating:!1}),a.props.onClose(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0.response),(null===(s=e.t0.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message)&&(l=e.t0.response.data,a.setState({invalidText:"ResponseError: ".concat(l.message),updating:!1}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),a.onSelectedAllClick=function(){a.setState((function(e){return Object(k.a)(Object(k.a)({},e),{},{selectedResources:e.selectedResources.size>0?new Set:new Set(e.resourceOptions.map((function(e){return e.id})))})}))},a.onResourceItemClick=function(e){return function(){a.setState((function(t){var n=new Set(t.selectedResources);return n.has(e)?n.delete(e):n.add(e),Object(k.a)(Object(k.a)({},t),{},{selectedResources:n})}))}},a.state={updating:!1,invalidText:void 0,resourceOptions:[],selectedResources:new Set},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadResourceOptions()}},{key:"render",value:function(){var e=this,t=this.state,n=t.invalidText,r=t.selectedResources,o=t.updating,i=t.resourceOptions;return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:this.props.open,fullWidth:!0,maxWidth:"xl",children:[Object(m.jsx)(ee.a,{children:"Reload Swagger Resources"}),Object(m.jsxs)(te.a,{children:[n&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",n," "]}),Object(m.jsx)(ge.a,{sx:{flexGrow:1},subheader:Object(m.jsx)(ye.a,{children:Object(m.jsx)(x.a,{sx:{mt:1,mb:1,flexDirection:"column",display:"flex",alignItems:"stretch",justifyContent:"flex-start"},color:"inherit",children:Object(m.jsx)(Ce.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",mt:1},variant:"outlined",square:!0,children:Object(m.jsxs)(Se.a,{dense:!0,onClick:this.onSelectedAllClick,disabled:0===i.length,children:[Object(m.jsx)(ke.a,{children:Object(m.jsx)(we.a,{edge:"start",checked:r.size>0&&r.size===i.length,indeterminate:r.size>0&&r.size<i.length,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"SelectAll"}})}),Object(m.jsx)(De.a,{id:"SelectAll",primary:"All (".concat(i.length,")"),primaryTypographyProps:{variant:"h6"}})]})})})}),children:i.length>0&&Object(m.jsx)(Ce.a,{sx:{ml:2,mr:2},variant:"outlined",square:!0,children:i.map((function(t){var n="resource-".concat(t.id),a=r.has(t.id);return Object(m.jsx)(Ie.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},disablePadding:!0,children:Object(m.jsxs)(Se.a,{dense:!0,onClick:e.onResourceItemClick(t.id),children:[Object(m.jsx)(ke.a,{children:Object(m.jsx)(we.a,{edge:"start",checked:a,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})}),Object(m.jsx)(De.a,{id:n,primary:"".concat(t.version," ").concat(t.id),primaryTypographyProps:{variant:"h6"}})]})},t.id)}))})})]}),Object(m.jsxs)(ne.a,{children:[o&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!o&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:this.handleClose,children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:this.handleReload,children:"Reload"})]})]})]})}}]),n}(a.Component),pa=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleModify=function(e){var t=a.state.newWSName,n=a.props,r=n.workspaceUrl,o=n.workspaceName,i=t.trim();i.length<1?a.setState({invalidText:"Field 'Name' is required."}):(a.setState({invalidText:void 0}),a.setState({updating:!0}),o===i?(a.setState({updating:!1}),a.props.onClose(null)):oe.a.post("".concat(r,"/Rename"),{name:i}).then((function(e){a.setState({updating:!1}),a.props.onClose(e.data.name)})).catch((function(e){var t,n;if(a.setState({updating:!1}),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var r=e.response.data;a.setState({invalidText:"ResponseError: ".concat(r.message,": ").concat(JSON.stringify(r.details))})}})))},a.handleClose=function(){a.setState({invalidText:void 0}),a.props.onClose(null)},a.state={newWSName:a.props.workspaceName,updating:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.invalidText,r=t.updating;return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:this.props.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(m.jsx)(ee.a,{children:"Rename Workspace"}),Object(m.jsxs)(te.a,{dividers:!0,children:[n&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",n," "]}),Object(m.jsx)(X.a,{id:"name",label:"Name",type:"text",fullWidth:!0,variant:"standard",value:this.state.newWSName,onChange:function(t){e.setState({newWSName:t.target.value})},margin:"normal",required:!0})]}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:this.handleClose,children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:this.handleModify,children:"Save"})]})]})]})}}]),n}(a.Component),ma=function(e){var t=Object(c.h)();return Object(m.jsx)(ca,Object(k.a)({params:t},e))},ja=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsx)(a.Fragment,{children:Object(m.jsx)(P,{pageName:"Commands"})})}}]),n}(a.Component),fa=T(ja),ha=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsx)(a.Fragment,{children:Object(m.jsx)(c.a,{})})}}]),n}(a.Component),xa=T(ha),ba=Object(Y.a)(),Oa=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadModules=function(){oe.a.get("/CLI/Az/"+a.props.repo+"/Modules").then((function(e){var t=e.data.map((function(e){return{name:e.name,folder:e.folder,url:e.url}}));a.setState({options:t})})).catch((function(e){return console.error(e.response)}))},a.handleDialogSubmit=function(e){if(!0===e.currentTarget.checkValidity()){var t=a.state.createDialogValue.name;oe.a.post("/CLI/Az/"+a.props.repo+"/Modules",{name:t}).then((function(e){var t=e.data,n={name:t.name,folder:t.folder,url:t.url};setTimeout((function(){a.onValueUpdated(n)})),a.handleDialogClose()})).catch((function(e){console.error(e.response)}))}},a.handleDialogClose=function(){a.setState({createDialogValue:{name:"",folder:null,url:null},openDialog:!1})},a.onValueUpdated=function(e){a.setState({value:e}),e.url&&(window.location.href="/?#/CLI/".concat(a.props.repo,"/").concat(e.name))},a.state={options:[],value:null,openDialog:!1,createDialogValue:{name:"",folder:null,url:null}},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadModules()}},{key:"render",value:function(){var e=this,t=this.state,n=t.options,r=t.value,o=t.openDialog,i=t.createDialogValue,s=this.props,c=s.repo,l=s.name;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)($.a,{id:c+"-module-select",value:r,sx:{width:280},options:n,autoHighlight:!0,onChange:function(t,n){"string"===typeof n?setTimeout((function(){e.setState({openDialog:!0,createDialogValue:{name:n,url:null,folder:null}})})):n&&n.inputValue?e.setState({openDialog:!0,createDialogValue:{name:n.inputValue,url:null,folder:null}}):e.onValueUpdated(n)},filterOptions:function(e,t){var n=ba(e,t);return""!==t.inputValue&&-1===e.findIndex((function(e){return e.name===t.inputValue}))&&n.push({inputValue:t.inputValue,title:'Create "'.concat(t.inputValue,'"')}),n},getOptionLabel:function(e){return"string"===typeof e?e:e.title?e.title:e.name},renderOption:function(e,t){var n=t&&t.title?t.title:t.name;return Object(m.jsx)(U.a,Object(k.a)(Object(k.a)({component:"li"},e),{},{children:n}))},selectOnFocus:!0,clearOnBlur:!0,renderInput:function(e){return Object(m.jsx)(X.a,Object(k.a)(Object(k.a)({},e),{},{label:l,inputProps:Object(k.a)(Object(k.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),Object(m.jsx)(Q.a,{open:o,onClose:this.handleDialogClose,children:Object(m.jsxs)(U.a,{component:"form",onSubmit:this.handleDialogSubmit,children:[Object(m.jsx)(ee.a,{children:"Create module in Azure CLI"+c==="Extension"?" Extension":""}),Object(m.jsx)(te.a,{children:Object(m.jsx)(X.a,{autoFocus:!0,margin:"normal",id:"name",required:!0,value:i.name,onChange:function(t){e.setState({createDialogValue:Object(k.a)(Object(k.a)({},i),{},{name:t.target.value})})},label:"Module Name",type:"text",variant:"standard"})}),Object(m.jsxs)(ne.a,{children:[Object(m.jsx)(ae.a,{onClick:this.handleDialogClose,children:"Cancel"}),Object(m.jsx)(ae.a,{type:"submit",color:"success",children:"Create"})]})]})})]})}}]),n}(a.Component),va=Oa,ga=Object(S.a)(x.a)((function(e){e.theme;return{height:"6vh"}})),ya=Object(S.a)(x.a)((function(e){e.theme;return{width:"3vh"}})),Ca=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(P,{pageName:"CLI"}),Object(m.jsx)(q,{children:Object(m.jsxs)(x.a,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(m.jsx)(x.a,{sx:{flexGrow:3}}),Object(m.jsxs)(x.a,{sx:{flexGrow:3,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(m.jsx)(b.a,{variant:"h3",gutterBottom:!0,children:"Please select a CLI Module"}),Object(m.jsx)(ga,{}),Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(m.jsx)(va,{repo:"Main",name:"Azure CLI Module"}),Object(m.jsx)(ya,{}),Object(m.jsx)(b.a,{variant:"h6",gutterBottom:!0,children:"Or"}),Object(m.jsx)(ya,{}),Object(m.jsx)(va,{repo:"Extension",name:"Azure CLI Extension Module"})]})]}),Object(m.jsx)(x.a,{sx:{flexGrow:5}})]})})]})}}]),n}(a.Component),Sa=Ca,ka=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(P,{pageName:"Documents"}),Object(m.jsx)(c.a,{})]})}}]),n}(a.Component),wa=T(ka),Da=n(721),Ia=n(722),Aa=n(723),Wa=n(724),Ra=n(725),za=n(669),Ea=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNodeSelected=function(t,n){"string"===typeof n&&e.props.onSelected(n)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=function e(t){var n=t.title;return Object(m.jsx)(it.a,{nodeId:t.id,label:n,color:"inherit",children:Array.isArray(t.nodes)?t.nodes.map((function(t){return e(t)})):null},t.id)};return Object(m.jsx)(ot.a,{defaultCollapseIcon:Object(m.jsx)(ct.a,{}),defaultExpandIcon:Object(m.jsx)(dt.a,{}),onNodeSelect:this.onNodeSelected,selected:this.props.selected,expanded:this.props.expanded,sx:{flexGrow:1,overflowY:"auto",p:3},children:this.props.nodes.map((function(t){return e(t)}))})}}]),n}(a.Component),Ga=function e(t){var n;return{id:t.id,title:t.title,file:t.file,nodes:null===(n=t.pages)||void 0===n?void 0:n.map((function(t){return e(t)}))}},Ta=Ea,Na=n(674),Ma=n(668),Pa=n(236);function Fa(e){var t,n=a.useState(void 0),r=Object(h.a)(n,2),o=r[0],i=r[1],s=a.useState([]),c=Object(h.a)(s,2),l=c[0],d=c[1],u=a.useState(void 0),p=Object(h.a)(u,2),j=p[0],f=p[1],O=a.useState([]),v=Object(h.a)(O,2),g=v[0],y=v[1],S=function(e){i(e),function(e){oe.a.get("/Docs/Index/".concat(e)).then((function(e){if(204!==e.status){var t=e.data;f(t)}})).catch((function(e){return console.error(e.response)}))}(e)};a.useEffect((function(){e.params.docId&&S(e.params.docId)}),[e.params.docId]);var w=function(){var e=Object(he.a)(je.a.mark((function e(){var t,n,a;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.a.get("/Docs/Index");case 3:return t=e.sent,n=t.data,a=n.map((function(e){return Ga(e)})),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return a.useEffect((function(){w().then((function(t){if(t){var n=[],a=function e(t){t.nodes&&(n.push(t.id),t.nodes.forEach((function(t){return e(t)})))};t.forEach((function(e){return a(e)})),d(t),y(n),!e.params.docId&&t.length>0&&S(t[0].id)}}))}),[]),Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)(x.a,{sx:{display:"flex"},children:[Object(m.jsxs)(be.a,{variant:"permanent",sx:(t={width:300,flexShrink:0},Object(pe.a)(t,"& .MuiDrawer-paper",{width:300,boxSizing:"border-box"}),Object(pe.a)(t,"zIndex",(function(e){return e.zIndex.appBar-1})),t),children:[Object(m.jsx)(M.a,{}),o&&l.length>0&&Object(m.jsx)(Ta,{nodes:l,selected:o,onSelected:S,expanded:g})]}),Object(m.jsxs)(F.a,{sx:{flexGrow:1},children:[Object(m.jsx)(M.a,{sx:{flexShrink:0}}),Object(m.jsx)(x.a,{sx:{pt:4,pb:20},children:j&&Object(m.jsx)(za.a,{children:j,remarkPlugins:[Pa.a],components:{p:function(e){return Object(m.jsx)(x.a,{sx:{mt:2},children:Object(m.jsx)(qa,{children:e.children})})},h1:function(e){return Object(m.jsx)(x.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:2,mb:2},children:Object(m.jsx)(Ua,{children:e.children})})},h2:function(e){return Object(m.jsx)(x.a,{sx:{mt:6,mb:2},children:Object(m.jsx)(Va,{children:e.children})})},h3:function(e){return Object(m.jsx)(x.a,{sx:{mt:4,mb:4},children:Object(m.jsx)(La,{children:e.children})})},ul:function(e){return Object(m.jsx)(x.a,{sx:{listStyleType:e.depth<1?"disc":"circle",p:1,ml:4},children:e.children})},li:function(e){return Object(m.jsx)(b.a,{component:"li",fontSize:15,fontWeight:600,children:e.children})},code:function(e){var t=/language-(\w+)/.exec(e.className||"");return!e.inline&&t?Object(m.jsx)(Ot.a,{variant:"outlined",sx:{mt:3,ml:2,mr:2,paddingLeft:1,paddingRight:1},children:Object(m.jsx)(Na.a,{style:Ma.a,language:t[1],PreTag:"div",children:e.children})}):Object(m.jsx)("code",Object(k.a)({className:e.className},e))},img:function(e){return Object(m.jsx)(x.a,{component:"span",sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:2,mb:2,ml:2,p:2},children:Object(m.jsx)("img",{alt:e.alt,src:e.src,title:e.title,style:{maxWidth:"95%"}})})},table:function(e){return Object(m.jsx)(x.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",p:2},children:Object(m.jsx)(Da.a,{component:Ot.a,variant:"outlined",children:Object(m.jsx)(Ia.a,{sx:{minWidth:400},children:e.children})})})},thead:function(e){return Object(m.jsx)(Aa.a,{children:e.children})},tr:function(e){return Object(m.jsx)(Wa.a,{sx:{"&:last-child td":{border:0}},children:e.children})},th:function(e){return Object(m.jsx)(Ra.a,{children:e.children})},td:function(e){return Object(m.jsx)(Ra.a,{children:e.children})},a:function(e){return Object(m.jsx)(C.a,{href:e.href,children:e.children})}}})})]})]})})}var Ua=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:36,fontWeight:600}})),Va=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:20,fontWeight:600,marginTop:16}})),La=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:18,fontWeight:600}})),qa=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:16,fontWeight:400}})),Ha=function(e){var t=Object(c.h)();return Object(m.jsx)(Fa,Object(k.a)({params:t},e))},Za=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.moduleName,n=e.onHomePage,r=e.onGenerate;return Object(m.jsx)(a.Fragment,{children:Object(m.jsx)(N.a,{sx:{position:"fixed",zIndex:function(e){return e.zIndex.drawer+1}},children:Object(m.jsxs)(M.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:64},children:[Object(m.jsxs)(Ae.a,{color:"inherit",onClick:n,"aria-label":"home",sx:{mr:2,flexShrink:0},children:[Object(m.jsx)($e.a,{sx:{mr:2}}),Object(m.jsx)(b.a,{variant:"h6",component:"div",color:"inherit",sx:{mr:2},children:"GENERATION"})]}),Object(m.jsx)(b.a,{variant:"h5",component:"div",color:"inherit",children:t}),Object(m.jsx)(U.a,{sx:{flexGrow:1}}),Object(m.jsx)(U.a,{sx:{flexShrink:0},children:Object(m.jsx)(_e.a,{title:"Generate CLI Commands",children:Object(m.jsx)(ae.a,{variant:"outlined",color:"inherit",onClick:r,children:"Generate"})})})]})})})}}]),n}(a.Component),Ka=Za,Ba=n(235),Ja=n.n(Ba),_a=n(234),Ya=n.n(_a),$a=n(233),Xa=n.n($a),Qa=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:17,fontWeight:600}})),er=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:20,fontWeight:400}})),tr=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.grey[700],fontFamily:"'Work Sans', sans-serif",fontSize:15,fontWeight:400}})),nr=Object(S.a)(tr)((function(e){e.theme;return{}})),ar=Object(S.a)(tr)((function(e){e.theme;return{color:"#d9c136"}}));function rr(e){var t,n,a=void 0!==e.commands?Object.keys(e.commands).map((function(t){return function(e){var t=e.versions.map((function(e){return function(e){return{name:e.name,stage:e.stage}}(e)}));return{id:e.names.join("/"),names:Object(fe.a)(e.names),help:e.help.short,versions:t,modified:!1}}(e.commands[t])})):void 0,r=void 0!==e.commandGroups?Object.keys(e.commandGroups).map((function(t){return rr(e.commandGroups[t])})):void 0,o=null!==(t=null===a||void 0===a?void 0:a.length)&&void 0!==t?t:0;return o=null!==(n=null===r||void 0===r?void 0:r.reduce((function(e,t){return e+t.totalCommands}),o))&&void 0!==n?n:o,{id:e.names.join("/"),names:Object(fe.a)(e.names),help:e.help.short,commandGroups:r,commands:a,totalCommands:o,selectedCommands:0}}function or(e,t){return{name:e,commandGroups:void 0!==t.commandGroups?Object.keys(t.commandGroups).map((function(e){return rr(t.commandGroups[e])})):[]}}function ir(e){var t,n;return null!==(t=null===(n=e.commandGroups)||void 0===n?void 0:n.flatMap((function(e){return[e.id].concat(Object(fe.a)(ir(e)))})))&&void 0!==t?t:[]}function sr(e,t,n,a,r){if(e.id!==t)return e;if(n){var o,i,s=null!==(o=null!==a&&void 0!==a?a:e.selectedVersion)&&void 0!==o?o:e.versions[0].name,c=null===(i=null!==r&&void 0!==r?r:e.registered)||void 0===i||i;return Object(k.a)(Object(k.a)({},e),{},{selectedVersion:s,registered:c,modified:!0})}return Object(k.a)(Object(k.a)({},e),{},{selectedVersion:void 0,registered:void 0,modified:!0})}function cr(e,t,n,a,r){var o,i,s,c;if(e.id!==t&&!t.startsWith("".concat(e.id,"/")))return e;var l,d,u,p,m=void 0,j=void 0;e.id===t?(m=null===(l=e.commands)||void 0===l?void 0:l.map((function(e){return sr(e,e.id,n,a,r)})),j=null===(d=e.commandGroups)||void 0===d?void 0:d.map((function(e){return cr(e,e.id,n,a,r)}))):(m=null===(u=e.commands)||void 0===u?void 0:u.map((function(e){return sr(e,t,n,a,r)})),j=null===(p=e.commandGroups)||void 0===p?void 0:p.map((function(e){return cr(e,t,n,a,r)})));var f=null!==(o=null===(i=m)||void 0===i?void 0:i.reduce((function(e,t){return void 0!==t.selectedVersion?e+1:e}),0))&&void 0!==o?o:0;return f+=null!==(s=null===(c=j)||void 0===c?void 0:c.reduce((function(e,t){return e+t.selectedCommands}),0))&&void 0!==s?s:0,Object(k.a)(Object(k.a)({},e),{},{commands:m,commandGroups:j,selectedCommands:f})}function lr(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=e.commandGroups.map((function(e){return cr(e,t,n,a,r)}));return Object(k.a)(Object(k.a)({},e),{},{commandGroups:o})}function dr(e,t){var n,a,r,o;if(e.id!==t.names.join("/"))throw new Error("Invalid command group names: "+t.names.join(" "));var i=e.commands;if(void 0!==t.commands){var s,c=new Set(Object.keys(t.commands));if(i=null===(s=e.commands)||void 0===s?void 0:s.map((function(e){return c.has(e.names[e.names.length-1])?(c.delete(e.names[e.names.length-1]),function(e,t){if(e.id!==t.names.join("/"))throw new Error("Invalid command names: "+t.names.join(" "));return Object(k.a)(Object(k.a)({},e),{},{selectedVersion:t.version,registered:t.registered})}(e,t.commands[e.names[e.names.length-1]])):e})),c.size>0){var l=[];throw c.forEach((function(e){l.push("`az "+t.commands[e].names.join(" ")+"`")})),new Error("Miss commands in aaz: "+l.join(", "))}}var d=e.commandGroups;if(void 0!==t.commandGroups){var u,p=new Set(Object.keys(t.commandGroups));if(d=null===(u=e.commandGroups)||void 0===u?void 0:u.map((function(e){return p.has(e.names[e.names.length-1])?(p.delete(e.names[e.names.length-1]),dr(e,t.commandGroups[e.names[e.names.length-1]])):e})),p.size>0){var m=[];throw p.forEach((function(e){m.push("`az "+t.commandGroups[e].names.join(" ")+"`")})),new Error("Miss command groups in aaz: "+m.join(", "))}}var j=null!==(n=null===(a=i)||void 0===a?void 0:a.reduce((function(e,t){return void 0!==t.selectedVersion?e+1:e}),0))&&void 0!==n?n:0;return j+=null!==(r=null===(o=d)||void 0===o?void 0:o.reduce((function(e,t){return e+t.selectedCommands}),0))&&void 0!==r?r:0,Object(k.a)(Object(k.a)({},e),{},{commands:i,commandGroups:d,selectedCommands:j,waitCommand:t.waitCommand})}function ur(e,t){var n=e.commandGroups;if(void 0!==t.commandGroups){var a=new Set(Object.keys(t.commandGroups));if(n=e.commandGroups.map((function(e){return a.has(e.names[e.names.length-1])?(a.delete(e.names[e.names.length-1]),dr(e,t.commandGroups[e.names[e.names.length-1]])):e})),a.size>0){var r=[];throw a.forEach((function(e){r.push("`az "+t.commandGroups[e].names.join(" ")+"`")})),new Error("Miss command groups in aaz: "+r.join(", "))}}return Object(k.a)(Object(k.a)({},e),{},{commandGroups:n})}function pr(e){if(0!==e.selectedCommands){var t=void 0;void 0!==e.commands&&(t={},e.commands.forEach((function(e){var n=function(e){if(void 0!==e.selectedVersion)return{names:e.names,registered:e.registered,version:e.selectedVersion,modified:e.modified}}(e);void 0!==n&&(t[e.names[e.names.length-1]]=n)})));var n=void 0;return void 0!==e.commandGroups&&(n={},e.commandGroups.forEach((function(e){var t=pr(e);void 0!==t&&(n[e.names[e.names.length-1]]=t)}))),{names:e.names,commandGroups:n,commands:t,waitCommand:e.waitCommand}}}function mr(e){var t={};return e.commandGroups.forEach((function(e){var n=pr(e);void 0!==n&&(t[e.names[e.names.length-1]]=n)})),{name:e.name,commandGroups:t}}var jr=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a,r;return Object(l.a)(this,n),(a=t.call(this,e)).onSelectCommandGroup=function(e,t){var n=lr(a.props.profileCommandTree,e,t);a.props.onChange(n)},a.onSelectCommand=function(e,t){var n=lr(a.props.profileCommandTree,e,t);a.props.onChange(n)},a.onSelectCommandVersion=function(e,t){var n=lr(a.props.profileCommandTree,e,!0,t);a.props.onChange(n)},a.onSelectCommandRegistered=function(e,t){var n=lr(a.props.profileCommandTree,e,!0,void 0,t);a.props.onChange(n)},a.state={defaultExpanded:(r=a.props.profileCommandTree,r.commandGroups.flatMap((function(e){var t=ir(e);return e.selectedCommands>0&&t.push(e.id),t})))},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state.defaultExpanded,n=function t(n){var a=n.names[n.names.length-1],r=n.selectedCommands>0&&n.totalCommands===n.selectedCommands;return Object(m.jsxs)(it.a,{sx:{marginLeft:2,marginTop:.5},nodeId:n.id,color:"inherit",label:Object(m.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(m.jsx)(we.a,{disableRipple:!0,checked:r,indeterminate:!r&&n.selectedCommands>0,onClick:function(t){e.onSelectCommandGroup(n.id,!r),t.stopPropagation(),t.preventDefault()}}),Object(m.jsx)(Xa.a,{}),Object(m.jsx)(Qa,{sx:{marginLeft:1},children:a})]}),onClick:function(e){e.stopPropagation(),e.preventDefault()},children:[void 0!==n.commands&&n.commands.map((function(t){return function(t){var n=t.names[t.names.length-1],a=void 0!==t.selectedVersion;return Object(m.jsx)(it.a,{sx:{marginLeft:2},nodeId:t.id,color:"inherit",label:Object(m.jsxs)(x.a,{sx:{marginTop:1,marginBottom:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(m.jsx)(we.a,{disableRipple:!0,checked:a,onClick:function(n){e.onSelectCommand(t.id,!a),n.stopPropagation(),n.preventDefault()}}),Object(m.jsxs)(x.a,{sx:{marginLeft:1,minWidth:100,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(m.jsx)(er,{children:n}),Object(m.jsx)(x.a,{sx:{marginLeft:1,width:20,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:t.modified&&Object(m.jsx)(Qe.a,{fontSize:"small",color:"info"})})]}),void 0!==t.selectedVersion&&Object(m.jsxs)(x.a,{sx:{marginLeft:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(m.jsxs)(Re.a,{sx:{minWidth:150,marginLeft:1},size:"small",variant:"standard",children:[Object(m.jsx)(ze.a,{children:"Version"}),Object(m.jsx)(Ee.a,{id:"".concat(t.id,"-version-select"),value:t.selectedVersion,onChange:function(n){e.onSelectCommandVersion(t.id,n.target.value)},size:"small",children:t.versions.map((function(e){return Object(m.jsx)(Ge.a,{value:e.name,children:Object(m.jsx)(tr,{children:e.name})},"".concat(t.id,"-version-select-").concat(e.name))}))})]}),Object(m.jsxs)(Re.a,{sx:{minWidth:150,marginLeft:1},size:"small",variant:"standard",children:[Object(m.jsx)(ze.a,{children:"Command table"}),Object(m.jsxs)(Ee.a,{id:"".concat(t.id,"-register-select"),value:t.registered?1:0,onChange:function(n){e.onSelectCommandRegistered(t.id,1===n.target.value)},size:"small",children:[Object(m.jsx)(Ge.a,{value:1,children:Object(m.jsx)(nr,{children:"Registered"})},"".concat(t.id,"-register-select-registered")),Object(m.jsx)(Ge.a,{value:0,children:Object(m.jsx)(ar,{children:"Unregistered"})},"".concat(t.id,"-register-select-unregistered"))]})]})]})]}),onClick:function(e){e.stopPropagation(),e.preventDefault()}},t.id)}(t)})),void 0!==n.commandGroups&&n.commandGroups.map((function(e){return t(e)}))]},n.id)};return Object(m.jsx)(a.Fragment,{children:Object(m.jsx)(ot.a,{disableSelection:!0,defaultExpanded:t,defaultCollapseIcon:Object(m.jsx)(Ya.a,{}),defaultExpandIcon:Object(m.jsx)(Ja.a,{}),children:this.props.profileCommandTree.commandGroups.map((function(e){return n(e)}))})})}}]),n}(a.Component),fr=n(672),hr=n(726),xr=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.profiles,a=e.onChange;return Object(m.jsx)(fr.a,{orientation:"vertical",variant:"scrollable",value:t,onChange:function(e,t){a(t)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:n.map((function(e,t){return Object(m.jsx)(hr.a,{label:e,id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)},t)}))})}}]),n}(a.Component),br=xr,Or=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadModule=Object(he.a)(je.a.mark((function e(){var t,n,r,o,i,s,c,l,d;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,oe.a.get("/CLI/Az/Profiles");case 4:return t=e.sent,n=t.data,e.next=8,oe.a.get("/AAZ/Specs/CommandTree/Nodes/aaz");case 8:return t=e.sent,r=n.map((function(e){return or(e,t.data)})),e.next=12,oe.a.get("/CLI/Az/".concat(a.props.params.repoName,"/Modules/").concat(a.props.params.moduleName));case 12:t=e.sent,o=t.data,Object.keys(o.profiles).forEach((function(e){var t=n.findIndex((function(t){return t===e}));if(-1===t)throw new Error("Invalid profile ".concat(e));r[t]=ur(r[t],o.profiles[e])})),i=n.length>0?0:void 0,s=void 0!==i?r[i]:void 0,a.setState({loading:!1,profiles:n,commandTrees:r,selectedProfileIdx:i,selectedCommandTree:s}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0),(null===(c=e.t0.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message)?(d=e.t0.response.data,a.setState({invalidText:"ResponseError: ".concat(d.message)})):a.setState({invalidText:"Error: ".concat(e.t0)});case 24:case"end":return e.stop()}}),e,null,[[0,20]])}))),a.handleBackToHomepage=function(){window.location.href="/?#/cli"},a.handleGenerate=function(){a.setState({showGenerateDialog:!0})},a.handleGenerationClose=function(e){a.setState({showGenerateDialog:!1})},a.onProfileChange=function(e){a.setState((function(t){return Object(k.a)(Object(k.a)({},t),{},{selectedProfileIdx:e,selectedCommandTree:t.commandTrees[e]})}))},a.onSelectedProfileTreeUpdate=function(e){a.setState((function(t){return Object(k.a)(Object(k.a)({},t),{},{selectedCommandTree:e,commandTrees:t.commandTrees.map((function(n,a){return a===t.selectedProfileIdx?e:n}))})}))},a.state={loading:!1,invalidText:void 0,profiles:[],commandTrees:[],selectedProfileIdx:void 0,selectedCommandTree:void 0,showGenerateDialog:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadModule()}},{key:"render",value:function(){var e=this,t=this.state,n=t.showGenerateDialog,r=t.selectedProfileIdx,o=t.selectedCommandTree,i=t.profiles,s=t.commandTrees;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(Ka,{moduleName:this.props.params.moduleName,onHomePage:this.handleBackToHomepage,onGenerate:this.handleGenerate}),Object(m.jsxs)(x.a,{sx:{display:"flex"},children:[Object(m.jsxs)(be.a,{variant:"permanent",sx:Object(pe.a)({width:300,flexShrink:0},"& .MuiDrawer-paper",{width:300,boxSizing:"border-box"}),children:[Object(m.jsx)(M.a,{}),void 0!==r&&Object(m.jsx)(br,{value:r,profiles:i,onChange:this.onProfileChange})]}),Object(m.jsxs)(x.a,{component:"main",sx:{flexGrow:1,p:2},children:[Object(m.jsx)(M.a,{sx:{flexShrink:0}}),void 0!==o&&Object(m.jsx)(jr,{profileCommandTree:o,onChange:this.onSelectedProfileTreeUpdate})]})]}),n&&Object(m.jsx)(vr,{repoName:this.props.params.repoName,moduleName:this.props.params.moduleName,profileCommandTrees:s,open:n,onClose:this.handleGenerationClose}),Object(m.jsxs)(Ne.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.loading,children:[void 0!==this.state.invalidText&&Object(m.jsx)(Oe.a,{sx:{maxWidth:"80%",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"},variant:"filled",severity:"error",onClose:function(){e.setState({invalidText:void 0,loading:!1})},children:this.state.invalidText}),void 0===this.state.invalidText&&Object(m.jsx)(Me.a,{color:"inherit"})]})]})}}]),n}(a.Component);function vr(e){var t=a.useState(!1),n=Object(h.a)(t,2),r=n[0],o=n[1],i=a.useState(void 0),s=Object(h.a)(i,2),c=s[0],l=s[1];return Object(m.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(m.jsxs)(ee.a,{children:["Generate CLI commands to ",e.moduleName]}),Object(m.jsx)(te.a,{children:c&&Object(m.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[" ",c," "]})}),Object(m.jsxs)(ne.a,{children:[r&&Object(m.jsx)(x.a,{sx:{width:"100%"},children:Object(m.jsx)(ve.a,{color:"info"})}),!r&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ae.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(m.jsx)(ae.a,{onClick:function(){var t={};e.profileCommandTrees.forEach((function(e){t[e.name]=mr(e)}));var n={name:e.moduleName,profiles:t};o(!0),oe.a.put("/CLI/Az/".concat(e.repoName,"/Modules/").concat(e.moduleName),n).then((function(){o(!1),e.onClose(!0)})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;l("ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details)))}o(!1)}))},children:"Generate All"}),Object(m.jsx)(ae.a,{onClick:function(){var t={};e.profileCommandTrees.forEach((function(e){t[e.name]=mr(e)}));var n={name:e.moduleName,profiles:t};o(!0),oe.a.patch("/CLI/Az/".concat(e.repoName,"/Modules/").concat(e.moduleName),n).then((function(){o(!1),e.onClose(!0)})).catch((function(e){var t,n;if(console.error(e.response),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message){var a=e.response.data;l("ResponseError: ".concat(a.message,": ").concat(JSON.stringify(a.details)))}o(!1)}))},children:"Generate Edited Only"})]})]})]})}var gr=function(e){var t=Object(c.h)();return Object(m.jsx)(Or,Object(k.a)({params:t},e))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(c.d,{children:Object(m.jsxs)(c.b,{path:"/",element:Object(m.jsx)(f,{}),children:[Object(m.jsx)(c.b,{index:!0,element:Object(m.jsx)(B,{})}),Object(m.jsx)(c.b,{path:"HomePage",element:Object(m.jsx)(B,{})}),Object(m.jsxs)(c.b,{path:"Workspace",element:Object(m.jsx)(_,{}),children:[Object(m.jsx)(c.b,{index:!0,element:Object(m.jsx)(ue,{})}),Object(m.jsx)(c.b,{path:"Instruction",element:Object(m.jsx)(ue,{})}),Object(m.jsx)(c.b,{path:":workspaceName",element:Object(m.jsx)(ma,{})})]}),Object(m.jsx)(c.b,{path:"Commands",element:Object(m.jsx)(fa,{})}),Object(m.jsxs)(c.b,{path:"CLI",element:Object(m.jsx)(xa,{}),children:[Object(m.jsx)(c.b,{index:!0,element:Object(m.jsx)(Sa,{})}),Object(m.jsx)(c.b,{path:"Instruction",element:Object(m.jsx)(Sa,{})}),Object(m.jsx)(c.b,{path:":repoName/:moduleName",element:Object(m.jsx)(gr,{})})]}),Object(m.jsxs)(c.b,{path:"Documents",element:Object(m.jsx)(wa,{}),children:[Object(m.jsx)(c.b,{index:!0,element:Object(m.jsx)(Ha,{})}),Object(m.jsx)(c.b,{path:":docId",element:Object(m.jsx)(Ha,{})})]})]})})})}),document.getElementById("root"))}},[[581,1,2]]]);
//# sourceMappingURL=main.b5396637.chunk.js.map